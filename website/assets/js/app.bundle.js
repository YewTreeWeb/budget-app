(window.webpackJsonp=window.webpackJsonp||[]).push([["app"],{"+4zn":function(e,t,n){"use strict";n.r(t);var a=n("o0o1"),o=n.n(a),s=n("yXPU"),c=n.n(s),r=n("lwsE"),i=n.n(r),l=n("W8MJ"),u=n.n(l),d=function(e){return e.map((function(e){return Object.assign({},e)}))},p=function(){function e(){i()(this,e),this.budgets=db.collection("budgets")}var t,n;return u()(e,[{key:"saveBudget",value:(n=c()(o.a.mark((function e(t){var n,a,s,c,r,i,l;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new Date,a=t.allItems,s=t.budget,c=t.percent,r=t.totals,i={budget:s,totalInc:r.inc,totalExp:r.exp,totalSav:r.sav,percentExp:c.exp,percentSav:c.sav,allItems:{inc:d(a.inc),exp:d(a.exp),sav:d(a.sav)},created_at:firebase.firestore.Timestamp.fromDate(n)},e.next=5,this.budgets.add(i);case 5:return l=e.sent,e.abrupt("return",l);case 7:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"updateBudget",value:(t=c()(o.a.mark((function e(t,n){var a,s,c,r,i,l;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.allItems,s=t.budget,c=t.percent,r=t.totals,i={budget:s,totalInc:r.inc,totalExp:r.exp,totalSav:r.sav,percentExp:c.exp,percentSav:c.sav,allItems:{inc:d(a.inc),exp:d(a.exp),sav:d(a.sav)}},e.next=4,this.budgets.doc(n).update(i);case 4:return l=e.sent,e.abrupt("return",l);case 6:case"end":return e.stop()}}),e,this)}))),function(e,n){return t.apply(this,arguments)})},{key:"getBudget",value:function(e){this.budgets.orderBy("created_at").onSnapshot((function(t){t.docChanges().forEach((function(t){"added"===t.type&&e(t.doc.data(),t.doc.id)}))}))}}]),e}();t.default=p},0:function(e,t,n){e.exports=n("kFay")},1:function(e,t){},E4hX:function(e,t,n){(function(e,t){for(var n,a=function(){},o=["assert","clear","count","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","log","markTimeline","profile","profileEnd","table","time","timeEnd","timeline","timelineEnd","timeStamp","trace","warn"],s=o.length,c=window.console=window.console||{};s--;)c[n=o[s]]||(c[n]=a);window.addEventListener("keydown",(function e(t){9===t.keyCode&&(document.body.classList.add("user-is-tabbing"),window.removeEventListener("keydown",e))})),document.querySelector("html").setAttribute("data-browser",e.name);var r=document.querySelector("body");t({xlarge:["1281px","1680px"],large:["981px","1280px"],medium:["737px","980px"],small:["481px","736px"],xsmall:[null,"480px"]}),e.mobile?r.classList.add("is-mobile"):(t.on(">medium",(function(){r.classList.remove("is-mobile"),r.classList.add("is-desktop")})),t.on("<=medium",(function(){r.classList.remove("is-desktop"),r.classList.add("is-mobile")}))),"localhost"===window.location.hostname&&console.log("localhost detected!")}).call(this,n("txRt"),n("a6Qp"))},SEKM:function(e,t,n){"use strict";n.r(t);var a=n("lwsE"),o=n.n(a),s=n("W8MJ"),c=n.n(s),r=n("b/SL"),i=n("xVb/"),l=new(n("+4zn").default),u=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=Math.abs(e),s=(o=o.toFixed(2)).split("."),c=s[0],r=s[1];r=Number(r)>0?".".concat(r):"",c.length>3&&(c="".concat(c.substr(0,c.length-3),",").concat(c.substr(c.length-3,3)));var i=n?'<span class="currency">&pound;</span>':"";return"".concat(a?"exp"===t?'<span class="sign">&#45;</span> ':'<span class="sign">&#43;</span> ':"").concat(i).concat(c).concat(r)},d=function(){function e(t,n,a){o()(this,e),this.inputType=t,this.inputDesc=n,this.inputVal=a}return c()(e,[{key:"getInput",value:function(){return{type:this.inputType.value,description:this.inputDesc.value,value:Number(this.inputVal.value)}}},{key:"render",value:function(e,t){var n,a="exp"===t?"expenses":"sav"===t?"savings":"income",o=document.querySelector(".".concat(a,"__list"));n="\n    <li class='".concat(a,"__item' id='").concat(t,"-").concat(e.id,"'>\n      <div class='item-desc'><p>").concat(e.desc,"</p></div>\n      <div class=\"items\">\n        <div class='items__value'><p>").concat(u(e.val,t,!0,!1),"</p></div>\n    "),"exp"!==t&&"sav"!==t||(n+='<div class="items__percent"><p>0&#37;</p></div>'),n+='\n        <button class=\'btn btn--clear items__del\'>\n          <svg id="delete" class="icon" width="20" height="20" aria-hidden="true">\n            <use xlink:href="/assets/images/icons.svg#icon-delete"></use>\n          </svg>\n        </button>\n      </div>\n    </li>\n    ',o.innerHTML+=n}},{key:"loadedRender",value:function(e,t){var n=e.allItems;t===document.querySelector("#chosen-ID").value&&console.log(t,e.budget,e.totalInc,e.totalExp,n.inc,n.exp)}},{key:"getBudget",value:function(e){return{budget:e.budget,totalInc:e.totals.inc,totalExp:e.totals.exp,totalSav:e.totals.sav,percentExp:e.percent.exp,percentSav:e.percent.sav}}},{key:"displayBudget",value:function(e){var t=e.budget>0?"inc":"exp",n="exp"===t?"expenses":"income",a=document.querySelector(".budget__value"),o=document.querySelector(".budget__income .budget__amount"),s=document.querySelector(".budget__expenses .budget__amount"),c=document.querySelector(".budget__savings .budget__amount");a.innerHTML=u(e.budget,t,!0),o.innerHTML=u(e.totalInc,"inc"),s.innerHTML=u(e.totalExp,"exp"),c.innerHTML=u(e.totalSav,"exp"),console.log("The ".concat(n," is/are ").concat(e.budget)),console.log(o,s)}},{key:"displayPercentage",value:function(e,t){var n="exp"===t?"expenses":"savings",a=document.querySelector(".budget__".concat(n," .budget__percentage"));e>0?(a.classList.add("show"),a.innerHTML="".concat(e,"&#37;")):a.classList.remove("show"),console.log(a)}},{key:"updateBudget",value:function(){var e=i.default.calculateBudget(),t=this.getBudget(e);console.log(t),this.displayBudget(t),this.displayPercentage(t.percentExp,"exp"),this.displayPercentage(t.percentSav,"sav")}},{key:"displayPercentages",value:function(e,t){var n="exp"===t?"expenses":"savings";!function(e,t){for(var n=0;n<e.length;n++)t(e[n],n)}(document.querySelectorAll(".".concat(n," .items__percent")),(function(t,n){e[n]>0?(t.classList.add("show"),t.innerHTML="".concat(e[n],"&#37;")):(t.classList.remove("show"),t.innerHTML="0&#37;")}))}},{key:"updatePercentages",value:function(){i.default.calculatePercentages(this.inputType.value);var e=i.default.getPercentages(this.inputType.value);this.displayPercentages(e,this.inputType.value)}},{key:"displayDate",value:function(){var e=document.querySelector(".budget__date"),t=new Date;e.textContent="".concat(["January","February","March","April","May","June","July","August","Sepetember","October","November","December"][t.getMonth()]," ").concat(t.getFullYear())}},{key:"changeType",value:function(){var e=this.inputType,t=document.querySelector("#check");e.addEventListener("change",(function(n){var a=Array.from(e.options);console.log(n),console.log(e.attributes,e.options,e.options.selectedIndex,a,a[1]),a.forEach((function(e){e.selected?(e.setAttribute("selected","selected"),t.classList.remove("exp","sav"),"exp"===e.value?t.classList.add("exp"):"sav"===e.value&&t.classList.add("sav")):e.removeAttribute("selected","selected"),console.log("Value ".concat(e.value))}))}))}},{key:"deleteItem",value:function(){var e=this;document.querySelector(".income-expenses").addEventListener("click",(function(t){if("delete"===t.target.id){var n=t.target.closest(".items").parentElement,a=n.id.split("-"),o=a[0],s=Number(a[1]);console.log(t.target,n,a,o,s),i.default.removeItem(o,s),n.remove(),e.updateBudget(),e.updatePercentages()}}))}},{key:"saving",value:function(){var e=document.querySelector("#save"),t=i.default.getData();e.addEventListener("click",(function(){var n=document.querySelector("#chosen-ID"),a=n.value||null,o=!1;n.classList.contains("chosen")&&(o=!0),console.log(t,t.allItems.inc,a),o&&a?l.updateBudget(t,a).then((function(){console.log("updated"),e.textContent="Updated",e.classList.remove("btn--ghost"),setTimeout((function(){e.textContent="Save",e.classList.add("btn--ghost")}),2e3)})).catch((function(e){console.error(e)})):l.saveBudget(t).then((function(){console.log("saved"),e.textContent="Saved",e.classList.remove("btn--ghost"),setTimeout((function(){e.textContent="Save",e.classList.add("btn--ghost")}),2e3)})).catch((function(e){console.error(e)}))}))}},{key:"styledDropdown",value:function(){var e=document.querySelector("#chosen-date"),t=document.querySelector("#chosen-ID"),n=document.querySelector(".date-list");e.addEventListener("focus",(function(){e.placeholder="Type to filter",n.classList.add("open")})),e.addEventListener("blur",(function(){n.classList.remove("open"),e.placeholder="Choose a date"})),e.addEventListener("input",(function(t){var a=e.value.trim().toLowerCase();!function(e,t){Array.from(e.children).filter((function(e){return!e.textContent.toLowerCase().includes(t)})).forEach((function(e){return e.classList.add("filtered")})),Array.from(e.children).filter((function(e){return e.textContent.toLowerCase().includes(t)})).forEach((function(e){return e.classList.remove("filtered")}))}(n,a),console.log(t)})),n.addEventListener("click",(function(a){if(console.log(a,a.target),t.classList.add("chosen"),Array.from(n.children).forEach((function(e){e.classList.remove("selected")})),"LI"===a.target.tagName){var o=a.target.textContent,s=a.target.getAttribute("data-id");e.setAttribute("value",o),e.placeholder=o,t.setAttribute("value",s),a.target.classList.add("selected")}}))}},{key:"Loaded",value:function(){var e=this,t=document.querySelector(".load-budgets");t.addEventListener("submit",(function(n){n.preventDefault(),l.getBudget((function(t,n){return e.loadedRender(t,n)})),t.reset()}))}},{key:"loading",value:function(){var e=document.querySelector(".date-list"),t=document.querySelector(".date-list li");l.getBudget((function(n,a){var o=n.created_at.toDate();if(o){var s=Object(r.format)(new Date(o),"dd/MM/yyyy"),c='<li class="date-list__item" data-id="'.concat(a,'">').concat(s,"</li>");"No saved dates"===t.textContent&&t.remove(),e.innerHTML+=c}})),this.styledDropdown(),this.Loaded()}}]),e}();t.default=d},a6Qp:function(e,t){e.exports=breakpoints},kFay:function(e,t,n){"use strict";n.r(t);var a=n("cDf5"),o=n.n(a),s=(n("OuUZ"),n("E4hX"),n("xVb/")),c=n("SEKM"),r=n("+4zn"),i=document.querySelector("body");window.onload=function(){window.setTimeout((function(){i.classList.remove("is-loading")}),100)};!function(e){var t=document.querySelector(".add__form"),n=document.querySelector(".add__type"),a=document.querySelector(".add__description"),s=document.querySelector(".add__value"),i=new c.default(n,a,s),l=new r.default;i.displayDate(),i.changeType(),i.loading(),i.saving();var u=e.getData().allItems.inc;t.addEventListener("submit",(function(n){n.preventDefault();var a=i.getInput();if(console.log(a),console.log(o()(a.value)),t.reset(),""!==a.desc&&!isNaN(a.value)&&a.value>0){var s=e.addItem(a.type,a.description,a.value);i.render(s,a.type),i.updateBudget(),i.updatePercentages(),console.log("form submitted!"),console.log(s)}console.log(u)})),i.deleteItem(),l.getBudget((function(e,t){console.log(e,t)}))}(s.default)},txRt:function(e,t){e.exports=browser},"xVb/":function(e,t,n){"use strict";n.r(t);var a,o,s,c=n("cDf5"),r=n.n(c),i=n("lwsE"),l=n.n(i),u=n("W8MJ"),d=n.n(u),p=(a=function(){function e(t,n,a){l()(this,e),this.id=t,this.desc=n,this.val=a,this.percentage=-1}return d()(e,[{key:"calcPercentage",value:function(e){this.percentage=e>0?Math.round(this.val/e*100):-1,console.log("this value is ".concat(r()(this.val)),"the totalIncome ".concat(r()(e)))}},{key:"getPercentage",value:function(){return this.percentage}}]),e}(),o={allItems:{exp:[],inc:[],sav:[]},totals:{exp:0,inc:0,sav:0},percent:{exp:-1,sav:-1},budget:0},s=function(e){var t=0;o.allItems[e].forEach((function(e){t+=e.val})),o.totals[e]=t},{addItem:function(e,t,n){var s=o.allItems[e].length>0?o.allItems[e][o.allItems[e].length-1].id+1:0,c=new a(s,t,n);return o.allItems[e].push(c),c},calculateBudget:function(){return s("exp"),s("inc"),s("sav"),o.budget=o.totals.inc-(o.totals.exp+o.totals.sav),o.totals.inc>0?(o.percent.exp=Math.round(o.totals.exp/o.totals.inc*100),o.percent.sav=Math.round(o.totals.sav/o.totals.inc*100)):(o.percent.exp=-1,o.percent.sav=-1),console.log(o.totals.exp,o.totals.inc),console.log(o.budget,o.percent.exp,o.percent.sav),o},calculatePercentages:function(e){o.allItems[e].forEach((function(e){e.calcPercentage(o.totals.inc)}))},getPercentages:function(e){return o.allItems[e].map((function(e){return e.getPercentage()}))},removeItem:function(e,t){var n=o.allItems[e].map((function(e){return e.id})).indexOf(t);-1!==n&&o.allItems[e].splice(n,1)},getData:function(){return o}});t.default=p}},[[0,"runtime","vendors"]]]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi93ZWJzaXRlL3NyYy9qcy9tb2R1bGVzL3Bhc3RidWRnZXQuanMiLCJ3ZWJwYWNrOi8vLy4vd2Vic2l0ZS9zcmMvanMvbW9kdWxlcy9oZWxwZXJzLmpzIiwid2VicGFjazovLy8uL3dlYnNpdGUvc3JjL2pzL21vZHVsZXMvdWljb250cm9sbGVyLmpzIiwid2VicGFjazovLy9leHRlcm5hbCBcImJyZWFrcG9pbnRzXCIiLCJ3ZWJwYWNrOi8vLy4vd2Vic2l0ZS9zcmMvanMvYXBwLmpzIiwid2VicGFjazovLy9leHRlcm5hbCBcImJyb3dzZXJcIiIsIndlYnBhY2s6Ly8vLi93ZWJzaXRlL3NyYy9qcy9tb2R1bGVzL2J1ZGdldGNvbnRyb2xsZXIuanMiXSwibmFtZXMiOlsiYXJyYXlSZWFzc2lnbiIsImFyIiwibWFwIiwib2JqIiwiT2JqZWN0IiwiYXNzaWduIiwiUGFzdEJ1ZGdldCIsInRoaXMiLCJidWRnZXRzIiwiZGIiLCJjb2xsZWN0aW9uIiwibm93IiwiRGF0ZSIsImFsbEl0ZW1zIiwiYnVkZ2V0IiwicGVyY2VudCIsInRvdGFscyIsImJ1ZGdldERhdGEiLCJ0b3RhbEluYyIsImluYyIsInRvdGFsRXhwIiwiZXhwIiwidG90YWxTYXYiLCJzYXYiLCJwZXJjZW50RXhwIiwicGVyY2VudFNhdiIsImNyZWF0ZWRfYXQiLCJmaXJlYmFzZSIsImZpcmVzdG9yZSIsIlRpbWVzdGFtcCIsImZyb21EYXRlIiwiYWRkIiwicmVzcG9uc2UiLCJpZCIsImRvYyIsInVwZGF0ZSIsImNiIiwib3JkZXJCeSIsIm9uU25hcHNob3QiLCJzbmFwc2hvdCIsImRvY0NoYW5nZXMiLCJmb3JFYWNoIiwiY2hhbmdlIiwidHlwZSIsImRhdGEiLCJtZXRob2QiLCJub29wIiwibWV0aG9kcyIsImxlbmd0aCIsImNvbnNvbGUiLCJ3aW5kb3ciLCJhZGRFdmVudExpc3RlbmVyIiwiaGFuZGxlRmlyc3RUYWIiLCJlIiwia2V5Q29kZSIsImRvY3VtZW50IiwiYm9keSIsImNsYXNzTGlzdCIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJxdWVyeVNlbGVjdG9yIiwic2V0QXR0cmlidXRlIiwiYnJvd3NlciIsIm5hbWUiLCJicmVha3BvaW50cyIsInhsYXJnZSIsImxhcmdlIiwibWVkaXVtIiwic21hbGwiLCJ4c21hbGwiLCJtb2JpbGUiLCJvbiIsInJlbW92ZSIsImxvY2F0aW9uIiwiaG9zdG5hbWUiLCJsb2ciLCJwYXN0YnVkZ2V0IiwiZm9ybWF0TnVtYmVyIiwibnVtYmVyIiwibW9uZXkiLCJjYWxjIiwibnVtIiwiTWF0aCIsImFicyIsIm51bVNwbGl0IiwidG9GaXhlZCIsInNwbGl0IiwiaW50IiwiZGVjaW1hbCIsIk51bWJlciIsInN1YnN0ciIsImN1cnJlbmN5IiwiVUlDb250cm9sbGVyIiwiY29zdCIsImRlc2NyaXB0aW9uIiwidmFsdWUiLCJpbnB1dFR5cGUiLCJpbnB1dERlc2MiLCJpbnB1dFZhbCIsImh0bWwiLCJpdGVtIiwibGlzdCIsImRlc2MiLCJ2YWwiLCJpbm5lckhUTUwiLCJ0eXBlcyIsInBlcmNlbnRhZ2UiLCJnZXREYXRhIiwiYnVkZ2V0Q29udHJvbGxlciIsImNhbGN1bGF0ZUJ1ZGdldCIsIm5ld0J1ZGdldCIsImdldEJ1ZGdldCIsImRpc3BsYXlCdWRnZXQiLCJkaXNwbGF5UGVyY2VudGFnZSIsInBlcmNlbnRhZ2VzIiwiaSIsIm5vZGVMaXN0Rm9yRWFjaCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJjdXJyZW50IiwiaW5kZXgiLCJjYWxjdWxhdGVQZXJjZW50YWdlcyIsImdldFBlcmNlbnRhZ2VzIiwiZGlzcGxheVBlcmNlbnRhZ2VzIiwiYnVkZ2V0RGF0ZSIsImRhdGUiLCJ0ZXh0Q29udGVudCIsImdldE1vbnRoIiwiZ2V0RnVsbFllYXIiLCJjaGVjayIsIm9wdGlvbnMiLCJBcnJheSIsImZyb20iLCJhdHRyaWJ1dGVzIiwic2VsZWN0ZWRJbmRleCIsIm9wdGlvbiIsInNlbGVjdGVkIiwicmVtb3ZlQXR0cmlidXRlIiwidGFyZ2V0IiwiY2xvc2VzdCIsInBhcmVudEVsZW1lbnQiLCJzcGxpdElEIiwiSUQiLCJyZW1vdmVJdGVtIiwidXBkYXRlQnVkZ2V0IiwidXBkYXRlUGVyY2VudGFnZXMiLCJidXR0b24iLCJpbnB1dCIsImNvbnRhaW5zIiwidGhlbiIsInNldFRpbWVvdXQiLCJlcnIiLCJlcnJvciIsInNhdmVCdWRnZXQiLCJpbnB1dElEIiwiZHJvcGRvd24iLCJwbGFjZWhvbGRlciIsInRlcm0iLCJ0cmltIiwidG9Mb3dlckNhc2UiLCJlbCIsImNoaWxkcmVuIiwiZmlsdGVyIiwiaW5jbHVkZXMiLCJmaWx0ZXJUZXJtcyIsImNoaWxkIiwidGFnTmFtZSIsInRhcmdldFR4dCIsInRhcmdldElEIiwiZ2V0QXR0cmlidXRlIiwiZm9ybSIsInByZXZlbnREZWZhdWx0IiwibG9hZGVkUmVuZGVyIiwicmVzZXQiLCJkcm9wZG93bkxpc3QiLCJ0b0RhdGUiLCJ3aGVuIiwiZm9ybWF0Iiwic3R5bGVkRHJvcGRvd24iLCJMb2FkZWQiLCJtb2R1bGUiLCJleHBvcnRzIiwib25sb2FkIiwiYnVkZ2V0Q3RybCIsIlVJQ3RybCIsImRpc3BsYXlEYXRlIiwiY2hhbmdlVHlwZSIsImxvYWRpbmciLCJzYXZpbmciLCJnZXRJbnB1dCIsImlzTmFOIiwibmV3SXRlbSIsImFkZEl0ZW0iLCJyZW5kZXIiLCJkZWxldGVJdGVtIiwiQnVkZ2V0IiwiY2FsY3VsYXRlVG90YWxzIiwidG90YWxJbmNvbWUiLCJyb3VuZCIsInN1bSIsImN1ciIsInB1c2giLCJjYWxjUGVyY2VudGFnZSIsImdldFBlcmNlbnRhZ2UiLCJpbmRleE9mIiwic3BsaWNlIl0sIm1hcHBpbmdzIjoiZ01BS01BLEVBQWdCLFNBQUNDLEdBQ3JCLE9BQU9BLEVBQUdDLEtBQUksU0FBQ0MsR0FDYixPQUFPQyxPQUFPQyxPQUFPLEdBQUlGLE9BSXZCRyxFLFdBQ0osYUFBYyxZQUNaQyxLQUFLQyxRQUFVQyxHQUFHQyxXQUFXLFcsMEVBR2RQLEcsMEZBQ1RRLEVBQU0sSUFBSUMsS0FDUkMsRUFBc0NWLEVBQXRDVSxTQUFVQyxFQUE0QlgsRUFBNUJXLE9BQVFDLEVBQW9CWixFQUFwQlksUUFBU0MsRUFBV2IsRUFBWGEsT0FDN0JDLEVBQWEsQ0FDakJILFNBQ0FJLFNBQVVGLEVBQU9HLElBQ2pCQyxTQUFVSixFQUFPSyxJQUNqQkMsU0FBVU4sRUFBT08sSUFDakJDLFdBQVlULEVBQVFNLElBQ3BCSSxXQUFZVixFQUFRUSxJQUNwQlYsU0FBVSxDQUNSTSxJQUFLbkIsRUFBY2EsRUFBU00sS0FDNUJFLElBQUtyQixFQUFjYSxFQUFTUSxLQUM1QkUsSUFBS3ZCLEVBQWNhLEVBQVNVLE1BRTlCRyxXQUFZQyxTQUFTQyxVQUFVQyxVQUFVQyxTQUFTbkIsSSxTQUU3QkosS0FBS0MsUUFBUXVCLElBQUlkLEcsY0FBbENlLEUseUJBQ0NBLEcsb0pBR1U3QixFQUFLOEIsRyx3RkFDZHBCLEVBQXNDVixFQUF0Q1UsU0FBVUMsRUFBNEJYLEVBQTVCVyxPQUFRQyxFQUFvQlosRUFBcEJZLFFBQVNDLEVBQVdiLEVBQVhhLE9BQzdCQyxFQUFhLENBQ2pCSCxTQUNBSSxTQUFVRixFQUFPRyxJQUNqQkMsU0FBVUosRUFBT0ssSUFDakJDLFNBQVVOLEVBQU9PLElBQ2pCQyxXQUFZVCxFQUFRTSxJQUNwQkksV0FBWVYsRUFBUVEsSUFDcEJWLFNBQVUsQ0FDUk0sSUFBS25CLEVBQWNhLEVBQVNNLEtBQzVCRSxJQUFLckIsRUFBY2EsRUFBU1EsS0FDNUJFLElBQUt2QixFQUFjYSxFQUFTVSxPLFNBR1RoQixLQUFLQyxRQUFRMEIsSUFBSUQsR0FBSUUsT0FBT2xCLEcsY0FBN0NlLEUseUJBQ0NBLEcsZ0lBR0NJLEdBQ1I3QixLQUFLQyxRQUFRNkIsUUFBUSxjQUFjQyxZQUFXLFNBQUNDLEdBQzdDQSxFQUFTQyxhQUFhQyxTQUFRLFNBQUNDLEdBQ1QsVUFBaEJBLEVBQU9DLE1BQ1RQLEVBQUdNLEVBQU9SLElBQUlVLE9BQVFGLEVBQU9SLElBQUlELGMsS0FPNUIzQixhLCtFQ25FZixjQXFDRSxJQS9CQSxJQUFJdUMsRUFDRUMsRUFBTyxhQUNQQyxFQUFVLENBQ2QsU0FDQSxRQUNBLFFBQ0EsUUFDQSxNQUNBLFNBQ0EsUUFDQSxZQUNBLFFBQ0EsaUJBQ0EsV0FDQSxPQUNBLE1BQ0EsZUFDQSxVQUNBLGFBQ0EsUUFDQSxPQUNBLFVBQ0EsV0FDQSxjQUNBLFlBQ0EsUUFDQSxRQUVJQyxFQUFXRCxFQUFYQyxPQUNBQyxFQUFXQyxPQUFPRCxRQUFVQyxPQUFPRCxTQUFXLEdBRTdDRCxLQUlBQyxFQUhMSixFQUFTRSxFQUFRQyxNQUlmQyxFQUFRSixHQUFVQyxHQWN4QkksT0FBT0MsaUJBQWlCLFdBUkQsU0FBakJDLEVBQWtCQyxHQUNKLElBQWRBLEVBQUVDLFVBRUpDLFNBQVNDLEtBQUtDLFVBQVUxQixJQUFJLG1CQUM1Qm1CLE9BQU9RLG9CQUFvQixVQUFXTixPQU83QkcsU0FBU0ksY0FBYyxRQUMvQkMsYUFBYSxlQUFnQkMsRUFBUUMsTUFHMUMsSUFBTU4sRUFBT0QsU0FBU0ksY0FBYyxRQUVwQ0ksRUFBWSxDQUNWQyxPQUFRLENBQUMsU0FBVSxVQUNuQkMsTUFBTyxDQUFDLFFBQVMsVUFDakJDLE9BQVEsQ0FBQyxRQUFTLFNBQ2xCQyxNQUFPLENBQUMsUUFBUyxTQUNqQkMsT0FBUSxDQUFDLEtBQU0sV0FHYlAsRUFBUVEsT0FDVmIsRUFBS0MsVUFBVTFCLElBQUksY0FFbkJnQyxFQUFZTyxHQUFHLFdBQVcsV0FDeEJkLEVBQUtDLFVBQVVjLE9BQU8sYUFDdEJmLEVBQUtDLFVBQVUxQixJQUFJLGlCQUVyQmdDLEVBQVlPLEdBQUcsWUFBWSxXQUN6QmQsRUFBS0MsVUFBVWMsT0FBTyxjQUN0QmYsRUFBS0MsVUFBVTFCLElBQUksaUJBTVEsY0FBN0JtQixPQUFPc0IsU0FBU0MsVUFHaEJ4QixRQUFReUIsSUFBSSx5QiwrSUN0RlJDLEVBQWEsSSxVQUFJckUsU0FFakJzRSxFQUFlLFNBQUNDLEVBQVFsQyxHQUFxQyxJQUEvQm1DLEVBQStCLHdEQUFoQkMsSUFBZ0IseURBUTdEQyxFQUFNQyxLQUFLQyxJQUFJTCxHQUdiTSxHQUZOSCxFQUFNQSxFQUFJSSxRQUFRLElBRUdDLE1BQU0sS0FDdkJDLEVBQU1ILEVBQVMsR0FDZkksRUFBVUosRUFBUyxHQUN2QkksRUFBVUMsT0FBT0QsR0FBVyxFQUFsQixXQUEwQkEsR0FBWSxHQUU1Q0QsRUFBSXRDLE9BQVMsSUFFZnNDLEVBQU0sR0FBSCxPQUFNQSxFQUFJRyxPQUFPLEVBQUdILEVBQUl0QyxPQUFTLEdBQWpDLFlBQXVDc0MsRUFBSUcsT0FBT0gsRUFBSXRDLE9BQVMsRUFBRyxLQVl2RSxJQUFNMEMsRUFBV1osRUFBUSx3Q0FBMEMsR0FHbkUsZ0JBWElDLEVBRVMsUUFBVHBDLEVBQ0ksbUNBQ0EsbUNBRUMsSUFLVCxPQUFpQitDLEdBQWpCLE9BQTRCSixHQUE1QixPQUFrQ0MsSUFjOUJJLEUsV0FDSixXQUFZQyxFQUFNQyxFQUFhQyxHQUFPLFlBQ3BDdkYsS0FBS3dGLFVBQVlILEVBQ2pCckYsS0FBS3lGLFVBQVlILEVBQ2pCdEYsS0FBSzBGLFNBQVdILEUsK0NBSWhCLE1BQU8sQ0FDTG5ELEtBQU1wQyxLQUFLd0YsVUFBVUQsTUFDckJELFlBQWF0RixLQUFLeUYsVUFBVUYsTUFDNUJBLE1BQU9OLE9BQU9qRixLQUFLMEYsU0FBU0gsVSw2QkFLekIzRixFQUFLd0MsR0FDVixJQUdJdUQsRUFIRUMsRUFDSyxRQUFUeEQsRUFBaUIsV0FBc0IsUUFBVEEsRUFBaUIsVUFBWSxTQUN2RHlELEVBQU83QyxTQUFTSSxjQUFULFdBQTJCd0MsRUFBM0IsV0FJYkQsRUFBTyxvQkFBSCxPQUNTQyxFQURULHVCQUM0QnhELEVBRDVCLFlBQ29DeEMsRUFBSThCLEdBRHhDLCtDQUUwQjlCLEVBQUlrRyxLQUY5Qix5RkFJK0J6QixFQUM3QnpFLEVBQUltRyxJQUNKM0QsR0FDQSxHQUNBLEdBUkYsb0JBWVMsUUFBVEEsR0FBMkIsUUFBVEEsSUFDcEJ1RCxHQUFRLG1EQUdWQSxHQUFRLDRSQVdSRSxFQUFLRyxXQUFhTCxJLG1DQUdQdEQsRUFBTVgsR0FBSSxJQUNicEIsRUFBYStCLEVBQWIvQixTQUdKb0IsSUFGVXNCLFNBQVNJLGNBQWMsY0FFcEJtQyxPQUViN0MsUUFBUXlCLElBQ056QyxFQUNBVyxFQUFLOUIsT0FDTDhCLEVBQUsxQixTQUNMMEIsRUFBS3hCLFNBQ0xQLEVBQVNNLElBQ1ROLEVBQVNRLE8sZ0NBTVB1QixHQUNSLE1BQU8sQ0FDTDlCLE9BQVE4QixFQUFLOUIsT0FDYkksU0FBVTBCLEVBQUs1QixPQUFPRyxJQUN0QkMsU0FBVXdCLEVBQUs1QixPQUFPSyxJQUN0QkMsU0FBVXNCLEVBQUs1QixPQUFPTyxJQUN0QkMsV0FBWW9CLEVBQUs3QixRQUFRTSxJQUN6QkksV0FBWW1CLEVBQUs3QixRQUFRUSxPLG9DQUlmcEIsR0FDWixJQUFNd0MsRUFBT3hDLEVBQUlXLE9BQVMsRUFBSSxNQUFRLE1BQ2hDMEYsRUFBaUIsUUFBVDdELEVBQWlCLFdBQWEsU0FDdEM3QixFQUFTeUMsU0FBU0ksY0FBYyxrQkFDaEN4QyxFQUFNb0MsU0FBU0ksY0FBVCxtQ0FDTnRDLEVBQU1rQyxTQUFTSSxjQUFULHFDQUNOcEMsRUFBTWdDLFNBQVNJLGNBQVQsb0NBRVo3QyxFQUFPeUYsVUFBWTNCLEVBQWF6RSxFQUFJVyxPQUFRNkIsR0FBTSxHQUNsRHhCLEVBQUlvRixVQUFZM0IsRUFBYXpFLEVBQUllLFNBQVUsT0FDM0NHLEVBQUlrRixVQUFZM0IsRUFBYXpFLEVBQUlpQixTQUFVLE9BQzNDRyxFQUFJZ0YsVUFBWTNCLEVBQWF6RSxFQUFJbUIsU0FBVSxPQUd6QzJCLFFBQVF5QixJQUFSLGNBQW1COEIsRUFBbkIsbUJBQW1DckcsRUFBSVcsU0FDdkNtQyxRQUFReUIsSUFBSXZELEVBQUtFLEssd0NBSUhvRixFQUFZOUQsR0FDNUIsSUFBTTZELEVBQWlCLFFBQVQ3RCxFQUFpQixXQUFhLFVBQ3RDNUIsRUFBVXdDLFNBQVNJLGNBQVQsbUJBQ0Y2QyxFQURFLHlCQUlaQyxFQUFhLEdBQ2YxRixFQUFRMEMsVUFBVTFCLElBQUksUUFDdEJoQixFQUFRd0YsVUFBUixVQUF1QkUsRUFBdkIsVUFFQTFGLEVBQVEwQyxVQUFVYyxPQUFPLFFBSXpCdEIsUUFBUXlCLElBQUkzRCxLLHFDQU1kLElBQU0yRixFQUFVQyxVQUFpQkMsa0JBRzNCQyxFQUFZdEcsS0FBS3VHLFVBQVVKLEdBRy9CekQsUUFBUXlCLElBQUltQyxHQUlkdEcsS0FBS3dHLGNBQWNGLEdBR25CdEcsS0FBS3lHLGtCQUFrQkgsRUFBVXJGLFdBQVksT0FDN0NqQixLQUFLeUcsa0JBQWtCSCxFQUFVcEYsV0FBWSxTLHlDQUc1QndGLEVBQWF0RSxHQUM5QixJQUFNNkQsRUFBaUIsUUFBVDdELEVBQWlCLFdBQWEsV0FFcEIsU0FBQ3lELEVBQU1oRSxHQUM3QixJQUFLLElBQUk4RSxFQUFJLEVBQUdBLEVBQUlkLEVBQUtwRCxPQUFRa0UsSUFDL0I5RSxFQUFHZ0UsRUFBS2MsR0FBSUEsR0FHaEJDLENBTmU1RCxTQUFTNkQsaUJBQVQsV0FBOEJaLEVBQTlCLHNCQU1TLFNBQUNhLEVBQVNDLEdBQzVCTCxFQUFZSyxHQUFTLEdBQ3ZCRCxFQUFRNUQsVUFBVTFCLElBQUksUUFDdEJzRixFQUFRZCxVQUFSLFVBQXVCVSxFQUFZSyxHQUFuQyxXQUVBRCxFQUFRNUQsVUFBVWMsT0FBTyxRQUN6QjhDLEVBQVFkLFVBQVksZSwwQ0FPeEJJLFVBQWlCWSxxQkFBcUJoSCxLQUFLd0YsVUFBVUQsT0FHckQsSUFBTW1CLEVBQWNOLFVBQWlCYSxlQUFlakgsS0FBS3dGLFVBQVVELE9BR25FdkYsS0FBS2tILG1CQUFtQlIsRUFBYTFHLEtBQUt3RixVQUFVRCxTLG9DQUlwRCxJQUFNNEIsRUFBYW5FLFNBQVNJLGNBQWMsaUJBQ3BDZ0UsRUFBTyxJQUFJL0csS0FlakI4RyxFQUFXRSxZQUFYLFVBZGUsQ0FDYixVQUNBLFdBQ0EsUUFDQSxRQUNBLE1BQ0EsT0FDQSxPQUNBLFNBQ0EsYUFDQSxVQUNBLFdBQ0EsWUFFaUNELEVBQUtFLFlBQXhDLFlBQXVERixFQUFLRyxpQixtQ0FJNUQsSUFBTW5GLEVBQU9wQyxLQUFLd0YsVUFDWmdDLEVBQVF4RSxTQUFTSSxjQUFjLFVBTXJDaEIsRUFBS1EsaUJBQWlCLFVBQVUsU0FBQ0UsR0FDL0IsSUFBTTJFLEVBQVVDLE1BQU1DLEtBQUt2RixFQUFLcUYsU0FHOUIvRSxRQUFReUIsSUFBSXJCLEdBQ1pKLFFBQVF5QixJQUNOL0IsRUFBS3dGLFdBQ0x4RixFQUFLcUYsUUFDTHJGLEVBQUtxRixRQUFRSSxjQUNiSixFQUNBQSxFQUFRLElBSVpBLEVBQVF2RixTQUFRLFNBQUM0RixHQUNYQSxFQUFPQyxVQUNURCxFQUFPekUsYUFBYSxXQUFZLFlBQ2hDbUUsRUFBTXRFLFVBQVVjLE9BQU8sTUFBTyxPQUNULFFBQWpCOEQsRUFBT3ZDLE1BQ1RpQyxFQUFNdEUsVUFBVTFCLElBQUksT0FDTSxRQUFqQnNHLEVBQU92QyxPQUNoQmlDLEVBQU10RSxVQUFVMUIsSUFBSSxRQUd0QnNHLEVBQU9FLGdCQUFnQixXQUFZLFlBR25DdEYsUUFBUXlCLElBQVIsZ0JBQXFCMkQsRUFBT3ZDLGdCLG1DQU12QixXQUNFdkMsU0FBU0ksY0FBYyxvQkFDL0JSLGlCQUFpQixTQUFTLFNBQUNFLEdBQzlCLEdBQW9CLFdBQWhCQSxFQUFFbUYsT0FBT3ZHLEdBQWlCLENBQzVCLElBQU11RyxFQUFTbkYsRUFBRW1GLE9BQU9DLFFBQVEsVUFBVUMsY0FDcENDLEVBQVVILEVBQU92RyxHQUFHb0QsTUFBTSxLQUMxQjFDLEVBQU9nRyxFQUFRLEdBQ2ZDLEVBQUtwRCxPQUFPbUQsRUFBUSxJQUd4QjFGLFFBQVF5QixJQUFJckIsRUFBRW1GLE9BQVFBLEVBQVFHLEVBQVNoRyxFQUFNaUcsR0FJL0NqQyxVQUFpQmtDLFdBQVdsRyxFQUFNaUcsR0FHbENKLEVBQU9qRSxTQUdQLEVBQUt1RSxlQUdMLEVBQUtDLDBCLCtCQU1ULElBQU1DLEVBQVN6RixTQUFTSSxjQUFjLFNBQ2hDZixFQUFPK0QsVUFBaUJELFVBQzlCc0MsRUFBTzdGLGlCQUFpQixTQUFTLFdBRS9CLElBQU04RixFQUFRMUYsU0FBU0ksY0FBYyxjQUMvQmlGLEVBQUtLLEVBQU1uRCxPQUFTLEtBQ3RCd0MsR0FBVyxFQVNYVyxFQUFNeEYsVUFBVXlGLFNBQVMsWUFDM0JaLEdBQVcsR0FJWHJGLFFBQVF5QixJQUFJOUIsRUFBTUEsRUFBSy9CLFNBQVNNLElBQUt5SCxHQUduQ04sR0FBWU0sRUFDZGpFLEVBQ0dtRSxhQUFhbEcsRUFBTWdHLEdBQ25CTyxNQUFLLFdBQ0psRyxRQUFReUIsSUFBSSxXQUNac0UsRUFBT3BCLFlBQWMsVUFDckJvQixFQUFPdkYsVUFBVWMsT0FBTyxjQUN4QjZFLFlBQVcsV0FDVEosRUFBT3BCLFlBQWMsT0FDckJvQixFQUFPdkYsVUFBVTFCLElBQUksZ0JBQ3BCLFFBVFAsT0FXUyxTQUFDc0gsR0FDTnBHLFFBQVFxRyxNQUFNRCxNQUdsQjFFLEVBQ0c0RSxXQUFXM0csR0FDWHVHLE1BQUssV0FDSmxHLFFBQVF5QixJQUFJLFNBQ1pzRSxFQUFPcEIsWUFBYyxRQUNyQm9CLEVBQU92RixVQUFVYyxPQUFPLGNBQ3hCNkUsWUFBVyxXQUNUSixFQUFPcEIsWUFBYyxPQUNyQm9CLEVBQU92RixVQUFVMUIsSUFBSSxnQkFDcEIsUUFUUCxPQVdTLFNBQUNzSCxHQUNOcEcsUUFBUXFHLE1BQU1ELFcsdUNBNEV0QixJQUFNSixFQUFRMUYsU0FBU0ksY0FBYyxnQkFDL0I2RixFQUFVakcsU0FBU0ksY0FBYyxjQUNqQzhGLEVBQVdsRyxTQUFTSSxjQUFjLGNBRXhDc0YsRUFBTTlGLGlCQUFpQixTQUFTLFdBQzlCOEYsRUFBTVMsWUFBYyxpQkFDcEJELEVBQVNoRyxVQUFVMUIsSUFBSSxXQUd6QmtILEVBQU05RixpQkFBaUIsUUFBUSxXQUM3QnNHLEVBQVNoRyxVQUFVYyxPQUFPLFFBQzFCMEUsRUFBTVMsWUFBYyxtQkFHdEJULEVBQU05RixpQkFBaUIsU0FBUyxTQUFDRSxHQUMvQixJQUFNc0csRUFBT1YsRUFBTW5ELE1BQU04RCxPQUFPQyxlQTFabEIsU0FBQ0MsRUFBSUgsR0FDdkIxQixNQUFNQyxLQUFLNEIsRUFBR0MsVUFDWEMsUUFBTyxTQUFDN0QsR0FBRCxPQUFXQSxFQUFLeUIsWUFBWWlDLGNBQWNJLFNBQVNOLE1BQzFEbEgsU0FBUSxTQUFDMEQsR0FBRCxPQUFVQSxFQUFLMUMsVUFBVTFCLElBQUksZUFDeENrRyxNQUFNQyxLQUFLNEIsRUFBR0MsVUFDWEMsUUFBTyxTQUFDN0QsR0FBRCxPQUFVQSxFQUFLeUIsWUFBWWlDLGNBQWNJLFNBQVNOLE1BQ3pEbEgsU0FBUSxTQUFDMEQsR0FBRCxPQUFVQSxFQUFLMUMsVUFBVWMsT0FBTyxlQXFadkMyRixDQUFZVCxFQUFVRSxHQUNxQjFHLFFBQVF5QixJQUFJckIsTUFHekRvRyxFQUFTdEcsaUJBQWlCLFNBQVMsU0FBQ0UsR0FNbEMsR0FMMkNKLFFBQVF5QixJQUFJckIsRUFBR0EsRUFBRW1GLFFBQzVEZ0IsRUFBUS9GLFVBQVUxQixJQUFJLFVBQ3RCa0csTUFBTUMsS0FBS3VCLEVBQVNNLFVBQVV0SCxTQUFRLFNBQUMwSCxHQUNyQ0EsRUFBTTFHLFVBQVVjLE9BQU8sZUFFQSxPQUFyQmxCLEVBQUVtRixPQUFPNEIsUUFBa0IsQ0FDN0IsSUFBTUMsRUFBWWhILEVBQUVtRixPQUFPWixZQUNyQjBDLEVBQVdqSCxFQUFFbUYsT0FBTytCLGFBQWEsV0FDdkN0QixFQUFNckYsYUFBYSxRQUFTeUcsR0FDNUJwQixFQUFNUyxZQUFjVyxFQUNwQmIsRUFBUTVGLGFBQWEsUUFBUzBHLEdBQzlCakgsRUFBRW1GLE9BQU8vRSxVQUFVMUIsSUFBSSxrQiwrQkFLcEIsV0FDRHlJLEVBQU9qSCxTQUFTSSxjQUFjLGlCQUNwQzZHLEVBQUtySCxpQkFBaUIsVUFBVSxTQUFDRSxHQUMvQkEsRUFBRW9ILGlCQUNGOUYsRUFBV21DLFdBQVUsU0FBQ2xFLEVBQU1YLEdBQVAsT0FBYyxFQUFLeUksYUFBYTlILEVBQU1YLE1BQzNEdUksRUFBS0csYSxnQ0FLUCxJQUFNbEIsRUFBV2xHLFNBQVNJLGNBQWMsY0FDbENpSCxFQUFlckgsU0FBU0ksY0FBYyxpQkFHNUNnQixFQUFXbUMsV0FBVSxTQUFDdEcsRUFBU3lCLEdBQzdCLElBQU0wRixFQUFPbkgsRUFBUWtCLFdBQVdtSixTQUNoQyxHQUFJbEQsRUFBTSxDQUNSLElBQU1tRCxFQUFPQyxpQkFBTyxJQUFJbkssS0FBSytHLEdBQU8sY0FDOUJ2QixFQUFPLHdDQUFILE9BQTJDbkUsRUFBM0MsYUFBa0Q2SSxFQUFsRCxTQUN1QixtQkFBN0JGLEVBQWFoRCxhQUFrQ2dELEVBQWFyRyxTQUNoRWtGLEVBQVNsRCxXQUFhSCxNQUsxQjdGLEtBQUt5SyxpQkFFTHpLLEtBQUswSyxhLEtBSU10RixhLG1CQzNmZnVGLEVBQU9DLFFBQVVwSCxhLDRIQ2FYUCxFQUFPRCxTQUFTSSxjQUFjLFFBRXBDVCxPQUFPa0ksT0FBUyxXQUNkbEksT0FBT2tHLFlBQVcsV0FDaEI1RixFQUFLQyxVQUFVYyxPQUFPLGdCQUNyQixPQUtlLFNBQUM4RyxHQUNuQixJQUFNYixFQUFPakgsU0FBU0ksY0FBYyxjQUM5QmhCLEVBQU9ZLFNBQVNJLGNBQWMsY0FDOUIwQyxFQUFPOUMsU0FBU0ksY0FBYyxxQkFDOUJtQyxFQUFRdkMsU0FBU0ksY0FBYyxlQUUvQjJILEVBQVMsSUFBSTNGLFVBQWFoRCxFQUFNMEQsRUFBTVAsR0FDdENuQixFQUFhLElBQUlyRSxVQUd2QmdMLEVBQU9DLGNBR1BELEVBQU9FLGFBR1BGLEVBQU9HLFVBR1BILEVBQU9JLFNBRVAsSUFDUXZLLEVBREtrSyxFQUFXM0UsVUFDSDdGLFNBQWJNLElBRVJxSixFQUFLckgsaUJBQWlCLFVBQVUsU0FBQ0UsR0FDL0JBLEVBQUVvSCxpQkFHRixJQUFNeEIsRUFBUXFDLEVBQU9LLFdBVXJCLEdBUkUxSSxRQUFReUIsSUFBSXVFLEdBQ1poRyxRQUFReUIsSUFBUixJQUFtQnVFLEVBQU1uRCxRQUkzQjBFLEVBQUtHLFFBR2MsS0FBZjFCLEVBQU01QyxPQUFnQnVGLE1BQU0zQyxFQUFNbkQsUUFBVW1ELEVBQU1uRCxNQUFRLEVBQUcsQ0FFL0QsSUFBTStGLEVBQVVSLEVBQVdTLFFBQ3pCN0MsRUFBTXRHLEtBQ05zRyxFQUFNcEQsWUFDTm9ELEVBQU1uRCxPQUlSd0YsRUFBT1MsT0FBT0YsRUFBUzVDLEVBQU10RyxNQUM3QjJJLEVBQU94QyxlQUNQd0MsRUFBT3ZDLG9CQUdMOUYsUUFBUXlCLElBQUksbUJBQ1p6QixRQUFReUIsSUFBSW1ILEdBR2hCNUksUUFBUXlCLElBQUl2RCxNQUdkbUssRUFBT1UsYUFFUHJILEVBQVdtQyxXQUFVLFNBQUNsRSxFQUFNWCxHQUV4QmdCLFFBQVF5QixJQUFJOUIsRUFBTVgsTUEvREosQ0FrRWpCMEUsWSxtQkN6Rkh1RSxFQUFPQyxRQUFVdEgsUywrQ0NDVG9JLEVBMkJBckosRUFrQkFzSixFLCtEQTlDRnZGLEdBQ0VzRixFQUR3QixXQUU1QixXQUFZaEssRUFBSTRELEVBQWFDLEdBQU8sWUFDbEN2RixLQUFLMEIsR0FBS0EsRUFDVjFCLEtBQUs4RixLQUFPUixFQUNadEYsS0FBSytGLElBQU1SLEVBQ1h2RixLQUFLa0csWUFBYyxFQU5PLG1EQVNiMEYsR0FFWDVMLEtBQUtrRyxXQURIMEYsRUFBYyxFQUNFbEgsS0FBS21ILE1BQU83TCxLQUFLK0YsSUFBTTZGLEVBQWUsTUFFckMsRUFHbkJsSixRQUFReUIsSUFBUiw0QkFDMEJuRSxLQUFLK0YsTUFEL0IsOEJBRTRCNkYsT0FsQkosc0NBd0IxQixPQUFPNUwsS0FBS2tHLGVBeEJjLEtBNEJ4QjdELEVBQU8sQ0FDWC9CLFNBQVUsQ0FDUlEsSUFBSyxHQUNMRixJQUFLLEdBQ0xJLElBQUssSUFFUFAsT0FBUSxDQUNOSyxJQUFLLEVBQ0xGLElBQUssRUFDTEksSUFBSyxHQUVQUixRQUFTLENBQ1BNLEtBQU0sRUFDTkUsS0FBTSxHQUVSVCxPQUFRLEdBR0pvTCxFQUFrQixTQUFDdkosR0FDdkIsSUFBSTBKLEVBQU0sRUFDVnpKLEVBQUsvQixTQUFTOEIsR0FBTUYsU0FBUSxTQUFDNkosR0FDM0JELEdBQU9DLEVBQUloRyxPQUViMUQsRUFBSzVCLE9BQU8yQixHQUFRMEosR0FHZixDQUNMUCxRQUFTLFNBQUNuSixFQUFNMEQsRUFBTUMsR0FFcEIsSUFBTXNDLEVBQ0poRyxFQUFLL0IsU0FBUzhCLEdBQU1LLE9BQVMsRUFDekJKLEVBQUsvQixTQUFTOEIsR0FBTUMsRUFBSy9CLFNBQVM4QixHQUFNSyxPQUFTLEdBQUdmLEdBQUssRUFDekQsRUFHQTRKLEVBQVUsSUFBSUksRUFBT3JELEVBQUl2QyxFQUFNQyxHQU1yQyxPQUhBMUQsRUFBSy9CLFNBQVM4QixHQUFNNEosS0FBS1YsR0FHbEJBLEdBRVRqRixnQkFBaUIsV0F3QmYsT0F0QkFzRixFQUFnQixPQUNoQkEsRUFBZ0IsT0FDaEJBLEVBQWdCLE9BR2hCdEosRUFBSzlCLE9BQVM4QixFQUFLNUIsT0FBT0csS0FBT3lCLEVBQUs1QixPQUFPSyxJQUFNdUIsRUFBSzVCLE9BQU9PLEtBRzNEcUIsRUFBSzVCLE9BQU9HLElBQU0sR0FDcEJ5QixFQUFLN0IsUUFBUU0sSUFBTTRELEtBQUttSCxNQUFPeEosRUFBSzVCLE9BQU9LLElBQU11QixFQUFLNUIsT0FBT0csSUFBTyxLQUNwRXlCLEVBQUs3QixRQUFRUSxJQUFNMEQsS0FBS21ILE1BQU94SixFQUFLNUIsT0FBT08sSUFBTXFCLEVBQUs1QixPQUFPRyxJQUFPLE9BRXBFeUIsRUFBSzdCLFFBQVFNLEtBQU8sRUFDcEJ1QixFQUFLN0IsUUFBUVEsS0FBTyxHQUtwQjBCLFFBQVF5QixJQUFJOUIsRUFBSzVCLE9BQU9LLElBQUt1QixFQUFLNUIsT0FBT0csS0FDekM4QixRQUFReUIsSUFBSTlCLEVBQUs5QixPQUFROEIsRUFBSzdCLFFBQVFNLElBQUt1QixFQUFLN0IsUUFBUVEsS0FHbkRxQixHQUVUMkUscUJBQXNCLFNBQUM1RSxHQUNyQkMsRUFBSy9CLFNBQVM4QixHQUFNRixTQUFRLFNBQUM2SixHQUMzQkEsRUFBSUUsZUFBZTVKLEVBQUs1QixPQUFPRyxTQUduQ3FHLGVBQWdCLFNBQUM3RSxHQUlmLE9BSGdCQyxFQUFLL0IsU0FBUzhCLEdBQU16QyxLQUFJLFNBQUNvTSxHQUN2QyxPQUFPQSxFQUFJRyxvQkFJZjVELFdBQVksU0FBQ2xHLEVBQU1WLEdBQ2pCLElBR01xRixFQUhNMUUsRUFBSy9CLFNBQVM4QixHQUFNekMsS0FBSSxTQUFDbUgsR0FDbkMsT0FBT0EsRUFBUXBGLE1BRUN5SyxRQUFRekssSUFFWCxJQUFYcUYsR0FDRjFFLEVBQUsvQixTQUFTOEIsR0FBTWdLLE9BQU9yRixFQUFPLElBR3RDWixRQUFTLFdBQ1AsT0FBTzlELEtBS0UrRCxjIiwiZmlsZSI6ImFwcC5idW5kbGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKiBlc2xpbnQtZGlzYWJsZSBwcmVmZXItb2JqZWN0LXNwcmVhZCAqL1xuLy8gdG9kbzogc2F2ZSBidWRnZXQgZGF0YSB0byBmaXJlYmFzZVxuLy8gdG9kbzogZ2V0IGFsbEl0ZW1zIGRhdGEgdG8gc2F2ZSBzbyB0aGV5IGNhbiBiZSByZXBvcHVsYXRlZCB3aGVuIGxvYWRlZC5cbi8vIHRvZG86IGdldCB0aGUgZGF0YSBmcm9tIGZpcmViYXNlIHdoZW4gYSBkYXRlIGhhcyBiZWVuIGNob3NlbiBmcm9tIHRoZSBzZWxlY3Qgb3B0aW9ucyBhbmQgdXBkYXRlIHRoZSBVSVxuXG5jb25zdCBhcnJheVJlYXNzaWduID0gKGFyKSA9PiB7XG4gIHJldHVybiBhci5tYXAoKG9iaikgPT4ge1xuICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBvYmopXG4gIH0pXG59XG5cbmNsYXNzIFBhc3RCdWRnZXQge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLmJ1ZGdldHMgPSBkYi5jb2xsZWN0aW9uKCdidWRnZXRzJylcbiAgfVxuXG4gIGFzeW5jIHNhdmVCdWRnZXQob2JqKSB7XG4gICAgY29uc3Qgbm93ID0gbmV3IERhdGUoKVxuICAgIGNvbnN0IHsgYWxsSXRlbXMsIGJ1ZGdldCwgcGVyY2VudCwgdG90YWxzIH0gPSBvYmpcbiAgICBjb25zdCBidWRnZXREYXRhID0ge1xuICAgICAgYnVkZ2V0LFxuICAgICAgdG90YWxJbmM6IHRvdGFscy5pbmMsXG4gICAgICB0b3RhbEV4cDogdG90YWxzLmV4cCxcbiAgICAgIHRvdGFsU2F2OiB0b3RhbHMuc2F2LFxuICAgICAgcGVyY2VudEV4cDogcGVyY2VudC5leHAsXG4gICAgICBwZXJjZW50U2F2OiBwZXJjZW50LnNhdixcbiAgICAgIGFsbEl0ZW1zOiB7XG4gICAgICAgIGluYzogYXJyYXlSZWFzc2lnbihhbGxJdGVtcy5pbmMpLFxuICAgICAgICBleHA6IGFycmF5UmVhc3NpZ24oYWxsSXRlbXMuZXhwKSxcbiAgICAgICAgc2F2OiBhcnJheVJlYXNzaWduKGFsbEl0ZW1zLnNhdiksXG4gICAgICB9LFxuICAgICAgY3JlYXRlZF9hdDogZmlyZWJhc2UuZmlyZXN0b3JlLlRpbWVzdGFtcC5mcm9tRGF0ZShub3cpLFxuICAgIH1cbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuYnVkZ2V0cy5hZGQoYnVkZ2V0RGF0YSlcbiAgICByZXR1cm4gcmVzcG9uc2VcbiAgfVxuXG4gIGFzeW5jIHVwZGF0ZUJ1ZGdldChvYmosIGlkKSB7XG4gICAgY29uc3QgeyBhbGxJdGVtcywgYnVkZ2V0LCBwZXJjZW50LCB0b3RhbHMgfSA9IG9ialxuICAgIGNvbnN0IGJ1ZGdldERhdGEgPSB7XG4gICAgICBidWRnZXQsXG4gICAgICB0b3RhbEluYzogdG90YWxzLmluYyxcbiAgICAgIHRvdGFsRXhwOiB0b3RhbHMuZXhwLFxuICAgICAgdG90YWxTYXY6IHRvdGFscy5zYXYsXG4gICAgICBwZXJjZW50RXhwOiBwZXJjZW50LmV4cCxcbiAgICAgIHBlcmNlbnRTYXY6IHBlcmNlbnQuc2F2LFxuICAgICAgYWxsSXRlbXM6IHtcbiAgICAgICAgaW5jOiBhcnJheVJlYXNzaWduKGFsbEl0ZW1zLmluYyksXG4gICAgICAgIGV4cDogYXJyYXlSZWFzc2lnbihhbGxJdGVtcy5leHApLFxuICAgICAgICBzYXY6IGFycmF5UmVhc3NpZ24oYWxsSXRlbXMuc2F2KSxcbiAgICAgIH0sXG4gICAgfVxuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5idWRnZXRzLmRvYyhpZCkudXBkYXRlKGJ1ZGdldERhdGEpXG4gICAgcmV0dXJuIHJlc3BvbnNlXG4gIH1cblxuICBnZXRCdWRnZXQoY2IpIHtcbiAgICB0aGlzLmJ1ZGdldHMub3JkZXJCeSgnY3JlYXRlZF9hdCcpLm9uU25hcHNob3QoKHNuYXBzaG90KSA9PiB7XG4gICAgICBzbmFwc2hvdC5kb2NDaGFuZ2VzKCkuZm9yRWFjaCgoY2hhbmdlKSA9PiB7XG4gICAgICAgIGlmIChjaGFuZ2UudHlwZSA9PT0gJ2FkZGVkJykge1xuICAgICAgICAgIGNiKGNoYW5nZS5kb2MuZGF0YSgpLCBjaGFuZ2UuZG9jLmlkKVxuICAgICAgICB9XG4gICAgICB9KVxuICAgIH0pXG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgUGFzdEJ1ZGdldFxuIiwiLyogZXNsaW50LWRpc2FibGUgbm8tdW5kZWYgKi9cbi8qIGVzbGludC1kaXNhYmxlIG5vLXBsdXNwbHVzICovXG4vKiBlc2xpbnQtZGlzYWJsZSBuby1tdWx0aS1hc3NpZ24gKi9cblxuLy8gQXZvaWQgYGNvbnNvbGVgIGVycm9ycyBpbiBicm93c2VycyB0aGF0IGxhY2sgYSBjb25zb2xlLlxue1xuICBsZXQgbWV0aG9kXG4gIGNvbnN0IG5vb3AgPSAoKSA9PiB7fVxuICBjb25zdCBtZXRob2RzID0gW1xuICAgICdhc3NlcnQnLFxuICAgICdjbGVhcicsXG4gICAgJ2NvdW50JyxcbiAgICAnZGVidWcnLFxuICAgICdkaXInLFxuICAgICdkaXJ4bWwnLFxuICAgICdlcnJvcicsXG4gICAgJ2V4Y2VwdGlvbicsXG4gICAgJ2dyb3VwJyxcbiAgICAnZ3JvdXBDb2xsYXBzZWQnLFxuICAgICdncm91cEVuZCcsXG4gICAgJ2luZm8nLFxuICAgICdsb2cnLFxuICAgICdtYXJrVGltZWxpbmUnLFxuICAgICdwcm9maWxlJyxcbiAgICAncHJvZmlsZUVuZCcsXG4gICAgJ3RhYmxlJyxcbiAgICAndGltZScsXG4gICAgJ3RpbWVFbmQnLFxuICAgICd0aW1lbGluZScsXG4gICAgJ3RpbWVsaW5lRW5kJyxcbiAgICAndGltZVN0YW1wJyxcbiAgICAndHJhY2UnLFxuICAgICd3YXJuJyxcbiAgXVxuICBsZXQgeyBsZW5ndGggfSA9IG1ldGhvZHNcbiAgY29uc3QgY29uc29sZSA9ICh3aW5kb3cuY29uc29sZSA9IHdpbmRvdy5jb25zb2xlIHx8IHt9KVxuXG4gIHdoaWxlIChsZW5ndGgtLSkge1xuICAgIG1ldGhvZCA9IG1ldGhvZHNbbGVuZ3RoXVxuXG4gICAgLy8gT25seSBzdHViIHVuZGVmaW5lZCBtZXRob2RzLlxuICAgIGlmICghY29uc29sZVttZXRob2RdKSB7XG4gICAgICBjb25zb2xlW21ldGhvZF0gPSBub29wXG4gICAgfVxuICB9XG59XG5cbi8vIEFkZCB0YWJiaW5nIGluZGljYXRvciB0byB3aW5kb3dcbmNvbnN0IGhhbmRsZUZpcnN0VGFiID0gKGUpID0+IHtcbiAgaWYgKGUua2V5Q29kZSA9PT0gOSkge1xuICAgIC8vIHRoZSBcIkkgYW0gYSBrZXlib2FyZCB1c2VyXCIga2V5XG4gICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QuYWRkKCd1c2VyLWlzLXRhYmJpbmcnKVxuICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgaGFuZGxlRmlyc3RUYWIpXG4gIH1cbn1cblxud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBoYW5kbGVGaXJzdFRhYilcblxuLy8gQWRkIGEgYnJvd2VyIGluZGljYXRvciB0byB0aGUgSFRNTCBlbGVtZW50LlxuY29uc3QgaHRtbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2h0bWwnKVxuaHRtbC5zZXRBdHRyaWJ1dGUoJ2RhdGEtYnJvd3NlcicsIGJyb3dzZXIubmFtZSlcblxuLy8gRGV0ZWN0IGlmIG1vYmlsZSBvciBkZXNrdG9wLlxuY29uc3QgYm9keSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2JvZHknKVxuXG5icmVha3BvaW50cyh7XG4gIHhsYXJnZTogWycxMjgxcHgnLCAnMTY4MHB4J10sXG4gIGxhcmdlOiBbJzk4MXB4JywgJzEyODBweCddLFxuICBtZWRpdW06IFsnNzM3cHgnLCAnOTgwcHgnXSxcbiAgc21hbGw6IFsnNDgxcHgnLCAnNzM2cHgnXSxcbiAgeHNtYWxsOiBbbnVsbCwgJzQ4MHB4J10sXG59KVxuXG5pZiAoYnJvd3Nlci5tb2JpbGUpIHtcbiAgYm9keS5jbGFzc0xpc3QuYWRkKCdpcy1tb2JpbGUnKVxufSBlbHNlIHtcbiAgYnJlYWtwb2ludHMub24oJz5tZWRpdW0nLCAoKSA9PiB7XG4gICAgYm9keS5jbGFzc0xpc3QucmVtb3ZlKCdpcy1tb2JpbGUnKVxuICAgIGJvZHkuY2xhc3NMaXN0LmFkZCgnaXMtZGVza3RvcCcpXG4gIH0pXG4gIGJyZWFrcG9pbnRzLm9uKCc8PW1lZGl1bScsICgpID0+IHtcbiAgICBib2R5LmNsYXNzTGlzdC5yZW1vdmUoJ2lzLWRlc2t0b3AnKVxuICAgIGJvZHkuY2xhc3NMaXN0LmFkZCgnaXMtbW9iaWxlJylcbiAgfSlcbn1cblxuLy8gTG9nIGlmIHJ1bm5pbmcgaW4gbG9jYWxob3N0IHdoZW4gaW4gZGV2ZWxvcG1lbnQgbW9kZS5cbmlmIChcbiAgd2luZG93LmxvY2F0aW9uLmhvc3RuYW1lID09PSAnbG9jYWxob3N0JyAmJlxuICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nXG4pIHtcbiAgY29uc29sZS5sb2coJ2xvY2FsaG9zdCBkZXRlY3RlZCEnKVxufVxuIiwiLyogZXNsaW50LWRpc2FibGUgY2xhc3MtbWV0aG9kcy11c2UtdGhpcyAqL1xuaW1wb3J0IHsgZm9ybWF0IH0gZnJvbSAnZGF0ZS1mbnMnXG5pbXBvcnQgYnVkZ2V0Q29udHJvbGxlciBmcm9tICcuL2J1ZGdldGNvbnRyb2xsZXInXG5pbXBvcnQgUGFzdEJ1ZGdldCBmcm9tICcuL3Bhc3RidWRnZXQnXG5cbmNvbnN0IHBhc3RidWRnZXQgPSBuZXcgUGFzdEJ1ZGdldCgpXG5cbmNvbnN0IGZvcm1hdE51bWJlciA9IChudW1iZXIsIHR5cGUsIG1vbmV5ID0gZmFsc2UsIGNhbGMgPSB0cnVlKSA9PiB7XG4gIC8qKlxuICAgKiArIG9yIC0gYmVmb3JlIHRoZSBudW1iZXJcbiAgICogZXhhY3RseSAyIGRlY2ltYWwgcG9pbnRzXG4gICAqIGNvbW1hIHNlcGVyYXRpbmcgdGhlIHRob3VzYW5kc1xuICAgKlxuICAgKiAyMzEwLjQ1NjcgPSArIDIsMzEwLjQ2XG4gICAqL1xuICBsZXQgbnVtID0gTWF0aC5hYnMobnVtYmVyKVxuICBudW0gPSBudW0udG9GaXhlZCgyKVxuXG4gIGNvbnN0IG51bVNwbGl0ID0gbnVtLnNwbGl0KCcuJykgLy8gbm93IGEgc3RyaW5nIGFuZCB3aWxsIHNwbGl0IHRoZSAuIHRvIHJlcGxhY2Ugd2l0aCBhICxcbiAgbGV0IGludCA9IG51bVNwbGl0WzBdXG4gIGxldCBkZWNpbWFsID0gbnVtU3BsaXRbMV1cbiAgZGVjaW1hbCA9IE51bWJlcihkZWNpbWFsKSA+IDAgPyBgLiR7ZGVjaW1hbH1gIDogJydcblxuICBpZiAoaW50Lmxlbmd0aCA+IDMpIHtcbiAgICAvLyBzdWJzdHIgYWxsb3dzIGZvciBvbmx5IHBhcnQgb2YgdGhlIHN0cmluZyB0byBiZSB0YWtlblxuICAgIGludCA9IGAke2ludC5zdWJzdHIoMCwgaW50Lmxlbmd0aCAtIDMpfSwke2ludC5zdWJzdHIoaW50Lmxlbmd0aCAtIDMsIDMpfWAgLy8gaW5wdXQgMjMxMCwgb3V0cHV0IDIsMzEwXG4gIH1cblxuICBsZXQgc2lnblxuICBpZiAoY2FsYykge1xuICAgIHNpZ24gPVxuICAgICAgdHlwZSA9PT0gJ2V4cCdcbiAgICAgICAgPyAnPHNwYW4gY2xhc3M9XCJzaWduXCI+JiM0NTs8L3NwYW4+ICdcbiAgICAgICAgOiAnPHNwYW4gY2xhc3M9XCJzaWduXCI+JiM0Mzs8L3NwYW4+ICdcbiAgfSBlbHNlIHtcbiAgICBzaWduID0gJydcbiAgfVxuICBjb25zdCBjdXJyZW5jeSA9IG1vbmV5ID8gJzxzcGFuIGNsYXNzPVwiY3VycmVuY3lcIj4mcG91bmQ7PC9zcGFuPicgOiAnJ1xuXG4gIC8vIFJldHVybiB0aGUgZm9ybWF0dGVkIHN0cmluZ1xuICByZXR1cm4gYCR7c2lnbn0ke2N1cnJlbmN5fSR7aW50fSR7ZGVjaW1hbH1gXG59XG5cbi8vIEdyYWIgc2VhcmNoIHRlcm0gYW5kIGZpbHRlci5cbmNvbnN0IGZpbHRlclRlcm1zID0gKGVsLCB0ZXJtKSA9PiB7XG4gIEFycmF5LmZyb20oZWwuY2hpbGRyZW4pXG4gICAgLmZpbHRlcigoaXRlbSkgPT4gIWl0ZW0udGV4dENvbnRlbnQudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyh0ZXJtKSlcbiAgICAuZm9yRWFjaCgoaXRlbSkgPT4gaXRlbS5jbGFzc0xpc3QuYWRkKCdmaWx0ZXJlZCcpKVxuICBBcnJheS5mcm9tKGVsLmNoaWxkcmVuKVxuICAgIC5maWx0ZXIoKGl0ZW0pID0+IGl0ZW0udGV4dENvbnRlbnQudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyh0ZXJtKSlcbiAgICAuZm9yRWFjaCgoaXRlbSkgPT4gaXRlbS5jbGFzc0xpc3QucmVtb3ZlKCdmaWx0ZXJlZCcpKVxufVxuXG4vKiBlc2xpbnQtZGlzYWJsZSBwcmVmZXItZGVzdHJ1Y3R1cmluZyAqL1xuY2xhc3MgVUlDb250cm9sbGVyIHtcbiAgY29uc3RydWN0b3IoY29zdCwgZGVzY3JpcHRpb24sIHZhbHVlKSB7XG4gICAgdGhpcy5pbnB1dFR5cGUgPSBjb3N0XG4gICAgdGhpcy5pbnB1dERlc2MgPSBkZXNjcmlwdGlvblxuICAgIHRoaXMuaW5wdXRWYWwgPSB2YWx1ZVxuICB9XG5cbiAgZ2V0SW5wdXQoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHR5cGU6IHRoaXMuaW5wdXRUeXBlLnZhbHVlLCAvLyBXaWxsIGJlIGVpdGhlciBpbmMgb3IgZXhwXG4gICAgICBkZXNjcmlwdGlvbjogdGhpcy5pbnB1dERlc2MudmFsdWUsXG4gICAgICB2YWx1ZTogTnVtYmVyKHRoaXMuaW5wdXRWYWwudmFsdWUpLFxuICAgIH1cbiAgfVxuXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBjbGFzcy1tZXRob2RzLXVzZS10aGlzXG4gIHJlbmRlcihvYmosIHR5cGUpIHtcbiAgICBjb25zdCBpdGVtID1cbiAgICAgIHR5cGUgPT09ICdleHAnID8gJ2V4cGVuc2VzJyA6IHR5cGUgPT09ICdzYXYnID8gJ3NhdmluZ3MnIDogJ2luY29tZSdcbiAgICBjb25zdCBsaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgLiR7aXRlbX1fX2xpc3RgKVxuICAgIGxldCBodG1sXG5cbiAgICAvLyBDcmVhdGUgSFRNTCBzdHJpbmcgd2l0aCBwbGFjZWhvbGRlclxuICAgIGh0bWwgPSBgXG4gICAgPGxpIGNsYXNzPScke2l0ZW19X19pdGVtJyBpZD0nJHt0eXBlfS0ke29iai5pZH0nPlxuICAgICAgPGRpdiBjbGFzcz0naXRlbS1kZXNjJz48cD4ke29iai5kZXNjfTwvcD48L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3M9XCJpdGVtc1wiPlxuICAgICAgICA8ZGl2IGNsYXNzPSdpdGVtc19fdmFsdWUnPjxwPiR7Zm9ybWF0TnVtYmVyKFxuICAgICAgICAgIG9iai52YWwsXG4gICAgICAgICAgdHlwZSxcbiAgICAgICAgICB0cnVlLFxuICAgICAgICAgIGZhbHNlXG4gICAgICAgICl9PC9wPjwvZGl2PlxuICAgIGBcblxuICAgIGlmICh0eXBlID09PSAnZXhwJyB8fCB0eXBlID09PSAnc2F2Jykge1xuICAgICAgaHRtbCArPSAnPGRpdiBjbGFzcz1cIml0ZW1zX19wZXJjZW50XCI+PHA+MCYjMzc7PC9wPjwvZGl2PidcbiAgICB9XG5cbiAgICBodG1sICs9IGBcbiAgICAgICAgPGJ1dHRvbiBjbGFzcz0nYnRuIGJ0bi0tY2xlYXIgaXRlbXNfX2RlbCc+XG4gICAgICAgICAgPHN2ZyBpZD1cImRlbGV0ZVwiIGNsYXNzPVwiaWNvblwiIHdpZHRoPVwiMjBcIiBoZWlnaHQ9XCIyMFwiIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPlxuICAgICAgICAgICAgPHVzZSB4bGluazpocmVmPVwiL2Fzc2V0cy9pbWFnZXMvaWNvbnMuc3ZnI2ljb24tZGVsZXRlXCI+PC91c2U+XG4gICAgICAgICAgPC9zdmc+XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgPC9kaXY+XG4gICAgPC9saT5cbiAgICBgXG5cbiAgICAvLyBJbnNlcnQgSFRNTCBpbnRvIHRoZSBET01cbiAgICBsaXN0LmlubmVySFRNTCArPSBodG1sXG4gIH1cblxuICBsb2FkZWRSZW5kZXIoZGF0YSwgaWQpIHtcbiAgICBjb25zdCB7IGFsbEl0ZW1zIH0gPSBkYXRhXG4gICAgY29uc3QgaW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjY2hvc2VuLUlEJylcblxuICAgIGlmIChpZCA9PT0gaW5wdXQudmFsdWUpIHtcbiAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKFxuICAgICAgICAgIGlkLFxuICAgICAgICAgIGRhdGEuYnVkZ2V0LFxuICAgICAgICAgIGRhdGEudG90YWxJbmMsXG4gICAgICAgICAgZGF0YS50b3RhbEV4cCxcbiAgICAgICAgICBhbGxJdGVtcy5pbmMsXG4gICAgICAgICAgYWxsSXRlbXMuZXhwXG4gICAgICAgIClcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBnZXRCdWRnZXQoZGF0YSkge1xuICAgIHJldHVybiB7XG4gICAgICBidWRnZXQ6IGRhdGEuYnVkZ2V0LFxuICAgICAgdG90YWxJbmM6IGRhdGEudG90YWxzLmluYyxcbiAgICAgIHRvdGFsRXhwOiBkYXRhLnRvdGFscy5leHAsXG4gICAgICB0b3RhbFNhdjogZGF0YS50b3RhbHMuc2F2LFxuICAgICAgcGVyY2VudEV4cDogZGF0YS5wZXJjZW50LmV4cCxcbiAgICAgIHBlcmNlbnRTYXY6IGRhdGEucGVyY2VudC5zYXYsXG4gICAgfVxuICB9XG5cbiAgZGlzcGxheUJ1ZGdldChvYmopIHtcbiAgICBjb25zdCB0eXBlID0gb2JqLmJ1ZGdldCA+IDAgPyAnaW5jJyA6ICdleHAnXG4gICAgY29uc3QgdHlwZXMgPSB0eXBlID09PSAnZXhwJyA/ICdleHBlbnNlcycgOiAnaW5jb21lJ1xuICAgIGNvbnN0IGJ1ZGdldCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5idWRnZXRfX3ZhbHVlJylcbiAgICBjb25zdCBpbmMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAuYnVkZ2V0X19pbmNvbWUgLmJ1ZGdldF9fYW1vdW50YClcbiAgICBjb25zdCBleHAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAuYnVkZ2V0X19leHBlbnNlcyAuYnVkZ2V0X19hbW91bnRgKVxuICAgIGNvbnN0IHNhdiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYC5idWRnZXRfX3NhdmluZ3MgLmJ1ZGdldF9fYW1vdW50YClcblxuICAgIGJ1ZGdldC5pbm5lckhUTUwgPSBmb3JtYXROdW1iZXIob2JqLmJ1ZGdldCwgdHlwZSwgdHJ1ZSlcbiAgICBpbmMuaW5uZXJIVE1MID0gZm9ybWF0TnVtYmVyKG9iai50b3RhbEluYywgJ2luYycpXG4gICAgZXhwLmlubmVySFRNTCA9IGZvcm1hdE51bWJlcihvYmoudG90YWxFeHAsICdleHAnKVxuICAgIHNhdi5pbm5lckhUTUwgPSBmb3JtYXROdW1iZXIob2JqLnRvdGFsU2F2LCAnZXhwJylcblxuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICBjb25zb2xlLmxvZyhgVGhlICR7dHlwZXN9IGlzL2FyZSAke29iai5idWRnZXR9YClcbiAgICAgIGNvbnNvbGUubG9nKGluYywgZXhwKVxuICAgIH1cbiAgfVxuXG4gIGRpc3BsYXlQZXJjZW50YWdlKHBlcmNlbnRhZ2UsIHR5cGUpIHtcbiAgICBjb25zdCB0eXBlcyA9IHR5cGUgPT09ICdleHAnID8gJ2V4cGVuc2VzJyA6ICdzYXZpbmdzJ1xuICAgIGNvbnN0IHBlcmNlbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxuICAgICAgYC5idWRnZXRfXyR7dHlwZXN9IC5idWRnZXRfX3BlcmNlbnRhZ2VgXG4gICAgKVxuXG4gICAgaWYgKHBlcmNlbnRhZ2UgPiAwKSB7XG4gICAgICBwZXJjZW50LmNsYXNzTGlzdC5hZGQoJ3Nob3cnKVxuICAgICAgcGVyY2VudC5pbm5lckhUTUwgPSBgJHtwZXJjZW50YWdlfSYjMzc7YFxuICAgIH0gZWxzZSB7XG4gICAgICBwZXJjZW50LmNsYXNzTGlzdC5yZW1vdmUoJ3Nob3cnKVxuICAgIH1cblxuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICBjb25zb2xlLmxvZyhwZXJjZW50KVxuICAgIH1cbiAgfVxuXG4gIHVwZGF0ZUJ1ZGdldCgpIHtcbiAgICAvLyAxLiBDaGVjayBsb2NhbFN0b3JhZ2UgZm9yIHNhdmUgYnVkZ2V0IGRhdGEsIGVsc2UgZ2V0IG5ldyBkYXRhXG4gICAgY29uc3QgZ2V0RGF0YSA9IGJ1ZGdldENvbnRyb2xsZXIuY2FsY3VsYXRlQnVkZ2V0KClcblxuICAgIC8vIDIuIFJldHVybiB0aGUgYnVkZ2V0XG4gICAgY29uc3QgbmV3QnVkZ2V0ID0gdGhpcy5nZXRCdWRnZXQoZ2V0RGF0YSlcblxuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICBjb25zb2xlLmxvZyhuZXdCdWRnZXQpXG4gICAgfVxuXG4gICAgLy8gMy4gRGlzcGxheSB0aGUgdXBkYXRlZCBidWRnZXRcbiAgICB0aGlzLmRpc3BsYXlCdWRnZXQobmV3QnVkZ2V0KVxuXG4gICAgLy8gNC4gRGlzcGxheSB0aGUgbmV3IG92ZXJhbGwgYnVkZ2V0IHBlcmNlbnRhZ2VcbiAgICB0aGlzLmRpc3BsYXlQZXJjZW50YWdlKG5ld0J1ZGdldC5wZXJjZW50RXhwLCAnZXhwJylcbiAgICB0aGlzLmRpc3BsYXlQZXJjZW50YWdlKG5ld0J1ZGdldC5wZXJjZW50U2F2LCAnc2F2JylcbiAgfVxuXG4gIGRpc3BsYXlQZXJjZW50YWdlcyhwZXJjZW50YWdlcywgdHlwZSkge1xuICAgIGNvbnN0IHR5cGVzID0gdHlwZSA9PT0gJ2V4cCcgPyAnZXhwZW5zZXMnIDogJ3NhdmluZ3MnXG4gICAgY29uc3QgZmllbGRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChgLiR7dHlwZXN9IC5pdGVtc19fcGVyY2VudGApXG4gICAgY29uc3Qgbm9kZUxpc3RGb3JFYWNoID0gKGxpc3QsIGNiKSA9PiB7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY2IobGlzdFtpXSwgaSlcbiAgICAgIH1cbiAgICB9XG4gICAgbm9kZUxpc3RGb3JFYWNoKGZpZWxkcywgKGN1cnJlbnQsIGluZGV4KSA9PiB7XG4gICAgICBpZiAocGVyY2VudGFnZXNbaW5kZXhdID4gMCkge1xuICAgICAgICBjdXJyZW50LmNsYXNzTGlzdC5hZGQoJ3Nob3cnKVxuICAgICAgICBjdXJyZW50LmlubmVySFRNTCA9IGAke3BlcmNlbnRhZ2VzW2luZGV4XX0mIzM3O2BcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGN1cnJlbnQuY2xhc3NMaXN0LnJlbW92ZSgnc2hvdycpXG4gICAgICAgIGN1cnJlbnQuaW5uZXJIVE1MID0gJzAmIzM3OydcbiAgICAgIH1cbiAgICB9KVxuICB9XG5cbiAgdXBkYXRlUGVyY2VudGFnZXMoKSB7XG4gICAgLy8gMS4gQ2FsdWxhdGUgcGVyY2VudGFnZXNcbiAgICBidWRnZXRDb250cm9sbGVyLmNhbGN1bGF0ZVBlcmNlbnRhZ2VzKHRoaXMuaW5wdXRUeXBlLnZhbHVlKVxuXG4gICAgLy8gMi4gUmVhZCBwZXJjZW50YWdlcyBmcm9tIGJ1ZGdldCBjb250cm9sbGVyXG4gICAgY29uc3QgcGVyY2VudGFnZXMgPSBidWRnZXRDb250cm9sbGVyLmdldFBlcmNlbnRhZ2VzKHRoaXMuaW5wdXRUeXBlLnZhbHVlKVxuXG4gICAgLy8gMy4gVXBkYXRlIFVJIHRvIHNob3cgbmV3IHBlcmNlbnRhZ2VzXG4gICAgdGhpcy5kaXNwbGF5UGVyY2VudGFnZXMocGVyY2VudGFnZXMsIHRoaXMuaW5wdXRUeXBlLnZhbHVlKVxuICB9XG5cbiAgZGlzcGxheURhdGUoKSB7XG4gICAgY29uc3QgYnVkZ2V0RGF0ZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5idWRnZXRfX2RhdGUnKVxuICAgIGNvbnN0IGRhdGUgPSBuZXcgRGF0ZSgpXG4gICAgY29uc3QgbW9udGhzID0gW1xuICAgICAgJ0phbnVhcnknLFxuICAgICAgJ0ZlYnJ1YXJ5JyxcbiAgICAgICdNYXJjaCcsXG4gICAgICAnQXByaWwnLFxuICAgICAgJ01heScsXG4gICAgICAnSnVuZScsXG4gICAgICAnSnVseScsXG4gICAgICAnQXVndXN0JyxcbiAgICAgICdTZXBldGVtYmVyJyxcbiAgICAgICdPY3RvYmVyJyxcbiAgICAgICdOb3ZlbWJlcicsXG4gICAgICAnRGVjZW1iZXInLFxuICAgIF1cbiAgICBidWRnZXREYXRlLnRleHRDb250ZW50ID0gYCR7bW9udGhzW2RhdGUuZ2V0TW9udGgoKV19ICR7ZGF0ZS5nZXRGdWxsWWVhcigpfWBcbiAgfVxuXG4gIGNoYW5nZVR5cGUoKSB7XG4gICAgY29uc3QgdHlwZSA9IHRoaXMuaW5wdXRUeXBlXG4gICAgY29uc3QgY2hlY2sgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjY2hlY2snKVxuXG4gICAgLy8gaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAvLyAgIGNvbnNvbGUubG9nKGZpZWxkcylcbiAgICAvLyB9XG5cbiAgICB0eXBlLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIChlKSA9PiB7XG4gICAgICBjb25zdCBvcHRpb25zID0gQXJyYXkuZnJvbSh0eXBlLm9wdGlvbnMpXG5cbiAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKGUpXG4gICAgICAgIGNvbnNvbGUubG9nKFxuICAgICAgICAgIHR5cGUuYXR0cmlidXRlcyxcbiAgICAgICAgICB0eXBlLm9wdGlvbnMsXG4gICAgICAgICAgdHlwZS5vcHRpb25zLnNlbGVjdGVkSW5kZXgsXG4gICAgICAgICAgb3B0aW9ucyxcbiAgICAgICAgICBvcHRpb25zWzFdXG4gICAgICAgIClcbiAgICAgIH1cblxuICAgICAgb3B0aW9ucy5mb3JFYWNoKChvcHRpb24pID0+IHtcbiAgICAgICAgaWYgKG9wdGlvbi5zZWxlY3RlZCkge1xuICAgICAgICAgIG9wdGlvbi5zZXRBdHRyaWJ1dGUoJ3NlbGVjdGVkJywgJ3NlbGVjdGVkJylcbiAgICAgICAgICBjaGVjay5jbGFzc0xpc3QucmVtb3ZlKCdleHAnLCAnc2F2JylcbiAgICAgICAgICBpZiAob3B0aW9uLnZhbHVlID09PSAnZXhwJykge1xuICAgICAgICAgICAgY2hlY2suY2xhc3NMaXN0LmFkZCgnZXhwJylcbiAgICAgICAgICB9IGVsc2UgaWYgKG9wdGlvbi52YWx1ZSA9PT0gJ3NhdicpIHtcbiAgICAgICAgICAgIGNoZWNrLmNsYXNzTGlzdC5hZGQoJ3NhdicpXG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG9wdGlvbi5yZW1vdmVBdHRyaWJ1dGUoJ3NlbGVjdGVkJywgJ3NlbGVjdGVkJylcbiAgICAgICAgfVxuICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICAgIGNvbnNvbGUubG9nKGBWYWx1ZSAke29wdGlvbi52YWx1ZX1gKVxuICAgICAgICB9XG4gICAgICB9KVxuICAgIH0pXG4gIH1cblxuICBkZWxldGVJdGVtKCkge1xuICAgIGNvbnN0IGl0ZW0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaW5jb21lLWV4cGVuc2VzJylcbiAgICBpdGVtLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgICAgIGlmIChlLnRhcmdldC5pZCA9PT0gJ2RlbGV0ZScpIHtcbiAgICAgICAgY29uc3QgdGFyZ2V0ID0gZS50YXJnZXQuY2xvc2VzdCgnLml0ZW1zJykucGFyZW50RWxlbWVudFxuICAgICAgICBjb25zdCBzcGxpdElEID0gdGFyZ2V0LmlkLnNwbGl0KCctJylcbiAgICAgICAgY29uc3QgdHlwZSA9IHNwbGl0SURbMF1cbiAgICAgICAgY29uc3QgSUQgPSBOdW1iZXIoc3BsaXRJRFsxXSlcblxuICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICAgIGNvbnNvbGUubG9nKGUudGFyZ2V0LCB0YXJnZXQsIHNwbGl0SUQsIHR5cGUsIElEKVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gMS4gRGVsZXRlIHRoZSBpdGVtIGZyb20gdGhlIGRhdGEgc3RydWN0dXJlXG4gICAgICAgIGJ1ZGdldENvbnRyb2xsZXIucmVtb3ZlSXRlbSh0eXBlLCBJRClcblxuICAgICAgICAvLyAyLiBEZWxldGUgdGhlIGl0ZW0gZnJvbSB0aGUgVUlcbiAgICAgICAgdGFyZ2V0LnJlbW92ZSgpXG5cbiAgICAgICAgLy8gMy4gVXBkYXRlIGFuZCBzaG93IHRoZSBuZXcgYnVkZ2V0XG4gICAgICAgIHRoaXMudXBkYXRlQnVkZ2V0KClcblxuICAgICAgICAvLyA0LiBVcGRhdGUgYW5kIHNob3cgdGhlIG5ldyBwZXJjZW50YWdlc1xuICAgICAgICB0aGlzLnVwZGF0ZVBlcmNlbnRhZ2VzKClcbiAgICAgIH1cbiAgICB9KVxuICB9XG5cbiAgc2F2aW5nKCkge1xuICAgIGNvbnN0IGJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNzYXZlJylcbiAgICBjb25zdCBkYXRhID0gYnVkZ2V0Q29udHJvbGxlci5nZXREYXRhKClcbiAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAvLyBjb25zdCBsaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmRhdGUtbGlzdCcpXG4gICAgICBjb25zdCBpbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNjaG9zZW4tSUQnKVxuICAgICAgY29uc3QgSUQgPSBpbnB1dC52YWx1ZSB8fCBudWxsXG4gICAgICBsZXQgc2VsZWN0ZWQgPSBmYWxzZVxuXG4gICAgICAvLyBBcnJheS5mcm9tKGxpc3QuY2hpbGRyZW4pLmZvckVhY2goKGNoaWxkKSA9PiB7XG4gICAgICAvLyAgIGlmIChjaGlsZC5jbGFzc0xpc3QuY29udGFpbnMoJ3NlbGVjdGVkJykpIHtcbiAgICAgIC8vICAgICAvLyBJRCA9IGNoaWxkLmdldEF0dHJpYnV0ZSgnZGF0YS1pZCcpXG4gICAgICAvLyAgICAgc2VsZWN0ZWQgPSB0cnVlXG4gICAgICAvLyAgIH1cbiAgICAgIC8vIH0pXG5cbiAgICAgIGlmIChpbnB1dC5jbGFzc0xpc3QuY29udGFpbnMoJ2Nob3NlbicpKSB7XG4gICAgICAgIHNlbGVjdGVkID0gdHJ1ZVxuICAgICAgfVxuXG4gICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICBjb25zb2xlLmxvZyhkYXRhLCBkYXRhLmFsbEl0ZW1zLmluYywgSUQpXG4gICAgICB9XG5cbiAgICAgIGlmIChzZWxlY3RlZCAmJiBJRCkge1xuICAgICAgICBwYXN0YnVkZ2V0XG4gICAgICAgICAgLnVwZGF0ZUJ1ZGdldChkYXRhLCBJRClcbiAgICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygndXBkYXRlZCcpXG4gICAgICAgICAgICBidXR0b24udGV4dENvbnRlbnQgPSAnVXBkYXRlZCdcbiAgICAgICAgICAgIGJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKCdidG4tLWdob3N0JylcbiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICBidXR0b24udGV4dENvbnRlbnQgPSAnU2F2ZSdcbiAgICAgICAgICAgICAgYnV0dG9uLmNsYXNzTGlzdC5hZGQoJ2J0bi0tZ2hvc3QnKVxuICAgICAgICAgICAgfSwgMjAwMClcbiAgICAgICAgICB9KVxuICAgICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycilcbiAgICAgICAgICB9KVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGFzdGJ1ZGdldFxuICAgICAgICAgIC5zYXZlQnVkZ2V0KGRhdGEpXG4gICAgICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ3NhdmVkJylcbiAgICAgICAgICAgIGJ1dHRvbi50ZXh0Q29udGVudCA9ICdTYXZlZCdcbiAgICAgICAgICAgIGJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKCdidG4tLWdob3N0JylcbiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICBidXR0b24udGV4dENvbnRlbnQgPSAnU2F2ZSdcbiAgICAgICAgICAgICAgYnV0dG9uLmNsYXNzTGlzdC5hZGQoJ2J0bi0tZ2hvc3QnKVxuICAgICAgICAgICAgfSwgMjAwMClcbiAgICAgICAgICB9KVxuICAgICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycilcbiAgICAgICAgICB9KVxuICAgICAgfVxuICAgIH0pXG4gIH1cblxuICAvLyBzYXZpbmcoKSB7XG4gIC8vICAgY29uc3QgYnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3NhdmUnKVxuICAvLyAgIGNvbnN0IGRhdGEgPSBidWRnZXRDb250cm9sbGVyLmdldERhdGEoKVxuICAvLyAgIGNvbnN0IG5vdyA9IGZvcm1hdChuZXcgRGF0ZSgpLCAnZGQvTU0veXl5eScpXG4gIC8vICAgY29uc3QgaXRlbXMgPSBbXVxuICAvLyAgIGxldCBmb3VuZCA9IGZhbHNlXG5cbiAgLy8gICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gIC8vICAgICBjb25zdCBsaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmRhdGUtbGlzdCA+IGxpJylcbiAgLy8gICAgIGNvbnN0IGxpc3RJdGVtcyA9IEFycmF5LmZyb20obGlzdClcbiAgLy8gICAgIGxpc3RJdGVtcy5mb3JFYWNoKChpdGVtKSA9PiB7XG4gIC8vICAgICAgIGl0ZW1zLnB1c2goeyBkYXRlOiBpdGVtLnRleHRDb250ZW50LCBpZDogaXRlbS5nZXRBdHRyaWJ1dGUoJ2RhdGEtaWQnKSB9KVxuICAvLyAgICAgfSlcbiAgLy8gICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gIC8vICAgICAgIGNvbnNvbGUubG9nKGRhdGEsIGRhdGEuYWxsSXRlbXMuaW5jLCBpdGVtcylcbiAgLy8gICAgIH1cbiAgLy8gICAgIC8vIENoZWNrIGlmIGl0ZW1zIGFycmF5IGhhcyB0aGUgY3VycmVudCBkYXRlXG4gIC8vICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGl0ZW1zLmxlbmd0aDsgaSsrKSB7XG4gIC8vICAgICAgIGlmIChpdGVtc1tpXS5kYXRlID09PSBub3cpIHtcbiAgLy8gICAgICAgICBmb3VuZCA9IHRydWVcbiAgLy8gICAgICAgICBicmVha1xuICAvLyAgICAgICB9XG4gIC8vICAgICB9XG5cbiAgLy8gICAgIC8vIFVwZGF0ZSBidWRnZXQgaWYgaXQgYWxyZWFkeSBleGlzdHMgb3Igc2F2ZSBhIG5ldyBidWRnZXRcbiAgLy8gICAgIGlmIChmb3VuZCkge1xuICAvLyAgICAgICBpdGVtcy5mb3JFYWNoKChpdGVtKSA9PiB7XG4gIC8vICAgICAgICAgaWYgKGl0ZW0uZGF0ZSA9PT0gbm93KSB7XG4gIC8vICAgICAgICAgICBwYXN0YnVkZ2V0XG4gIC8vICAgICAgICAgICAgIC51cGRhdGVCdWRnZXQoZGF0YSwgaXRlbS5pZClcbiAgLy8gICAgICAgICAgICAgLnRoZW4oKCkgPT4ge1xuICAvLyAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCd1cGRhdGVkJylcbiAgLy8gICAgICAgICAgICAgICBidXR0b24udGV4dENvbnRlbnQgPSAnVXBkYXRlZCdcbiAgLy8gICAgICAgICAgICAgICBidXR0b24uY2xhc3NMaXN0LnJlbW92ZSgnYnRuLS1naG9zdCcpXG4gIC8vICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gIC8vICAgICAgICAgICAgICAgICBidXR0b24udGV4dENvbnRlbnQgPSAnU2F2ZSdcbiAgLy8gICAgICAgICAgICAgICAgIGJ1dHRvbi5jbGFzc0xpc3QuYWRkKCdidG4tLWdob3N0JylcbiAgLy8gICAgICAgICAgICAgICB9LCA0MDAwKVxuICAvLyAgICAgICAgICAgICB9KVxuICAvLyAgICAgICAgICAgICAuY2F0Y2goKGVycikgPT4ge1xuICAvLyAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKVxuICAvLyAgICAgICAgICAgICB9KVxuICAvLyAgICAgICAgIH1cbiAgLy8gICAgICAgfSlcbiAgLy8gICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgLy8gICAgICAgICBjb25zb2xlLmxvZygnaGFzIHRvZGF5cyBkYXRlJylcbiAgLy8gICAgICAgfVxuICAvLyAgICAgfSBlbHNlIHtcbiAgLy8gICAgICAgcGFzdGJ1ZGdldFxuICAvLyAgICAgICAgIC5zYXZlQnVkZ2V0KGRhdGEpXG4gIC8vICAgICAgICAgLnRoZW4oKCkgPT4ge1xuICAvLyAgICAgICAgICAgY29uc29sZS5sb2coJ3NhdmVkJylcbiAgLy8gICAgICAgICAgIGJ1dHRvbi50ZXh0Q29udGVudCA9ICdTYXZlZCdcbiAgLy8gICAgICAgICAgIGJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKCdidG4tLWdob3N0JylcbiAgLy8gICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAvLyAgICAgICAgICAgICBidXR0b24udGV4dENvbnRlbnQgPSAnU2F2ZSdcbiAgLy8gICAgICAgICAgICAgYnV0dG9uLmNsYXNzTGlzdC5hZGQoJ2J0bi0tZ2hvc3QnKVxuICAvLyAgICAgICAgICAgfSwgNDAwMClcbiAgLy8gICAgICAgICB9KVxuICAvLyAgICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gIC8vICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycilcbiAgLy8gICAgICAgICB9KVxuICAvLyAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAvLyAgICAgICAgIGNvbnNvbGUubG9nKCdkb2VzIG5vdCBoYXZlIHRvZGF5cyBkYXRlJylcbiAgLy8gICAgICAgfVxuICAvLyAgICAgfVxuICAvLyAgIH0pXG4gIC8vIH1cblxuICBzdHlsZWREcm9wZG93bigpIHtcbiAgICBjb25zdCBpbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNjaG9zZW4tZGF0ZScpXG4gICAgY29uc3QgaW5wdXRJRCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNjaG9zZW4tSUQnKVxuICAgIGNvbnN0IGRyb3Bkb3duID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmRhdGUtbGlzdCcpXG5cbiAgICBpbnB1dC5hZGRFdmVudExpc3RlbmVyKCdmb2N1cycsICgpID0+IHtcbiAgICAgIGlucHV0LnBsYWNlaG9sZGVyID0gJ1R5cGUgdG8gZmlsdGVyJ1xuICAgICAgZHJvcGRvd24uY2xhc3NMaXN0LmFkZCgnb3BlbicpXG4gICAgfSlcblxuICAgIGlucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2JsdXInLCAoKSA9PiB7XG4gICAgICBkcm9wZG93bi5jbGFzc0xpc3QucmVtb3ZlKCdvcGVuJylcbiAgICAgIGlucHV0LnBsYWNlaG9sZGVyID0gJ0Nob29zZSBhIGRhdGUnXG4gICAgfSlcblxuICAgIGlucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKGUpID0+IHtcbiAgICAgIGNvbnN0IHRlcm0gPSBpbnB1dC52YWx1ZS50cmltKCkudG9Mb3dlckNhc2UoKVxuICAgICAgZmlsdGVyVGVybXMoZHJvcGRvd24sIHRlcm0pXG4gICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgY29uc29sZS5sb2coZSlcbiAgICB9KVxuXG4gICAgZHJvcGRvd24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIGNvbnNvbGUubG9nKGUsIGUudGFyZ2V0KVxuICAgICAgaW5wdXRJRC5jbGFzc0xpc3QuYWRkKCdjaG9zZW4nKVxuICAgICAgQXJyYXkuZnJvbShkcm9wZG93bi5jaGlsZHJlbikuZm9yRWFjaCgoY2hpbGQpID0+IHtcbiAgICAgICAgY2hpbGQuY2xhc3NMaXN0LnJlbW92ZSgnc2VsZWN0ZWQnKVxuICAgICAgfSlcbiAgICAgIGlmIChlLnRhcmdldC50YWdOYW1lID09PSAnTEknKSB7XG4gICAgICAgIGNvbnN0IHRhcmdldFR4dCA9IGUudGFyZ2V0LnRleHRDb250ZW50XG4gICAgICAgIGNvbnN0IHRhcmdldElEID0gZS50YXJnZXQuZ2V0QXR0cmlidXRlKCdkYXRhLWlkJylcbiAgICAgICAgaW5wdXQuc2V0QXR0cmlidXRlKCd2YWx1ZScsIHRhcmdldFR4dClcbiAgICAgICAgaW5wdXQucGxhY2Vob2xkZXIgPSB0YXJnZXRUeHRcbiAgICAgICAgaW5wdXRJRC5zZXRBdHRyaWJ1dGUoJ3ZhbHVlJywgdGFyZ2V0SUQpXG4gICAgICAgIGUudGFyZ2V0LmNsYXNzTGlzdC5hZGQoJ3NlbGVjdGVkJylcbiAgICAgIH1cbiAgICB9KVxuICB9XG5cbiAgTG9hZGVkKCkge1xuICAgIGNvbnN0IGZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubG9hZC1idWRnZXRzJylcbiAgICBmb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIChlKSA9PiB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KClcbiAgICAgIHBhc3RidWRnZXQuZ2V0QnVkZ2V0KChkYXRhLCBpZCkgPT4gdGhpcy5sb2FkZWRSZW5kZXIoZGF0YSwgaWQpKVxuICAgICAgZm9ybS5yZXNldCgpXG4gICAgfSlcbiAgfVxuXG4gIGxvYWRpbmcoKSB7XG4gICAgY29uc3QgZHJvcGRvd24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZGF0ZS1saXN0JylcbiAgICBjb25zdCBkcm9wZG93bkxpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZGF0ZS1saXN0IGxpJylcblxuICAgIC8vIEdldCBzYXZlZCBlbnRyeSBkYXRlcyBmcm9tIEZpcmViYXNlXG4gICAgcGFzdGJ1ZGdldC5nZXRCdWRnZXQoKGJ1ZGdldHMsIGlkKSA9PiB7XG4gICAgICBjb25zdCBkYXRlID0gYnVkZ2V0cy5jcmVhdGVkX2F0LnRvRGF0ZSgpXG4gICAgICBpZiAoZGF0ZSkge1xuICAgICAgICBjb25zdCB3aGVuID0gZm9ybWF0KG5ldyBEYXRlKGRhdGUpLCAnZGQvTU0veXl5eScpXG4gICAgICAgIGNvbnN0IGxpc3QgPSBgPGxpIGNsYXNzPVwiZGF0ZS1saXN0X19pdGVtXCIgZGF0YS1pZD1cIiR7aWR9XCI+JHt3aGVufTwvbGk+YFxuICAgICAgICBpZiAoZHJvcGRvd25MaXN0LnRleHRDb250ZW50ID09PSAnTm8gc2F2ZWQgZGF0ZXMnKSBkcm9wZG93bkxpc3QucmVtb3ZlKClcbiAgICAgICAgZHJvcGRvd24uaW5uZXJIVE1MICs9IGxpc3RcbiAgICAgIH1cbiAgICB9KVxuXG4gICAgLy8gQWRkIGZ1bmN0aW9uYWxpdHkgdG8gZHJvcGRvd24gc2VhcmNoXG4gICAgdGhpcy5zdHlsZWREcm9wZG93bigpXG4gICAgLy8gTG9hZCB0aGUgZGF0YSBmcm9tIEZpcmViYXNlIG9uY2UgZGF0ZSBpcyBjaG9zZW5cbiAgICB0aGlzLkxvYWRlZCgpXG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgVUlDb250cm9sbGVyXG4iLCJtb2R1bGUuZXhwb3J0cyA9IGJyZWFrcG9pbnRzOyIsIi8qIGVzbGludC1kaXNhYmxlIG5vLXJlc3RyaWN0ZWQtZ2xvYmFscyAqL1xuLyogZXNsaW50LWRpc2FibGUgbm8tdW5kZWYgKi9cblxuLy8gRXh0ZXJuYWxcbmltcG9ydCAnYWlyYm5iLWJyb3dzZXItc2hpbXMnXG5cbi8vIEludGVybmFsXG5pbXBvcnQgJy4vbW9kdWxlcy9oZWxwZXJzJ1xuaW1wb3J0IGJ1ZGdldENvbnRyb2xsZXIgZnJvbSAnLi9tb2R1bGVzL2J1ZGdldGNvbnRyb2xsZXInXG5pbXBvcnQgVUlDb250cm9sbGVyIGZyb20gJy4vbW9kdWxlcy91aWNvbnRyb2xsZXInXG5pbXBvcnQgUGFzdEJ1ZGdldCBmcm9tICcuL21vZHVsZXMvcGFzdGJ1ZGdldCdcblxuLy8gUmVtb3ZlIGxvYWRpbmcgY2xhc3MgZnJvbSBib2R5IG9uIHdpbmRvdyBsb2FkLlxuY29uc3QgYm9keSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2JvZHknKVxuXG53aW5kb3cub25sb2FkID0gKCkgPT4ge1xuICB3aW5kb3cuc2V0VGltZW91dCgoKSA9PiB7XG4gICAgYm9keS5jbGFzc0xpc3QucmVtb3ZlKCdpcy1sb2FkaW5nJylcbiAgfSwgMTAwKVxufVxuXG4vLyBDcmVhdGUgdGhlIG1haW4gY29udHJvbGxlciBmb3IgdGhlIGFwcFxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVudXNlZC12YXJzXG5jb25zdCBjb250cm9sbGVyID0gKChidWRnZXRDdHJsKSA9PiB7XG4gIGNvbnN0IGZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYWRkX19mb3JtJylcbiAgY29uc3QgdHlwZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5hZGRfX3R5cGUnKVxuICBjb25zdCBkZXNjID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmFkZF9fZGVzY3JpcHRpb24nKVxuICBjb25zdCB2YWx1ZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5hZGRfX3ZhbHVlJylcblxuICBjb25zdCBVSUN0cmwgPSBuZXcgVUlDb250cm9sbGVyKHR5cGUsIGRlc2MsIHZhbHVlKVxuICBjb25zdCBwYXN0YnVkZ2V0ID0gbmV3IFBhc3RCdWRnZXQoKVxuXG4gIC8vIFNob2UgdGhlIGxhdGVzdCBkYXRlXG4gIFVJQ3RybC5kaXNwbGF5RGF0ZSgpXG5cbiAgLy8gVG9nZ2xlIHRoZSBzdWJtaXQgbmV3IGNvc3QgZnJvbSBlaXRoZXIgaW5jb21lIG9yIGV4cGVuc2UuXG4gIFVJQ3RybC5jaGFuZ2VUeXBlKClcblxuICAvLyBMb2FkIGJ1ZGdldHMgZnJvbSBGaXJlYmFzZVxuICBVSUN0cmwubG9hZGluZygpXG5cbiAgLy8gU2F2ZSBidWRnZXRzIHRvIEZpcmViYXNlXG4gIFVJQ3RybC5zYXZpbmcoKVxuXG4gIGNvbnN0IHRlc3QgPSBidWRnZXRDdHJsLmdldERhdGEoKVxuICBjb25zdCB7IGluYyB9ID0gdGVzdC5hbGxJdGVtc1xuXG4gIGZvcm0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgKGUpID0+IHtcbiAgICBlLnByZXZlbnREZWZhdWx0KClcblxuICAgIC8vIEdldCBmaWxlZCBpbnB1dCBkYXRhXG4gICAgY29uc3QgaW5wdXQgPSBVSUN0cmwuZ2V0SW5wdXQoKVxuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICBjb25zb2xlLmxvZyhpbnB1dClcbiAgICAgIGNvbnNvbGUubG9nKHR5cGVvZiBpbnB1dC52YWx1ZSlcbiAgICB9XG5cbiAgICAvLyBDbGVhciB0aGUgZm9ybSBmaWVsZHNcbiAgICBmb3JtLnJlc2V0KClcblxuICAgIC8vIE9ubHkgcnVuIGNhbGN1bGF0aW9ucyBpZiB2YWxpZCBpbnB1dHMgYXJlIGVudGVyZWRcbiAgICBpZiAoaW5wdXQuZGVzYyAhPT0gJycgJiYgIWlzTmFOKGlucHV0LnZhbHVlKSAmJiBpbnB1dC52YWx1ZSA+IDApIHtcbiAgICAgIC8vIEFkZCB0aGUgaXRlbSB0byB0aGUgYnVkZ2V0XG4gICAgICBjb25zdCBuZXdJdGVtID0gYnVkZ2V0Q3RybC5hZGRJdGVtKFxuICAgICAgICBpbnB1dC50eXBlLFxuICAgICAgICBpbnB1dC5kZXNjcmlwdGlvbixcbiAgICAgICAgaW5wdXQudmFsdWVcbiAgICAgIClcblxuICAgICAgLy8gQ2FsY3VsYWUgdGhlIGJ1ZGdldCBhbmQgdXBkYXRlIHRoZSBVSVxuICAgICAgVUlDdHJsLnJlbmRlcihuZXdJdGVtLCBpbnB1dC50eXBlKSAvLyBBZGQgaXRlbXMgdG8gaW5jb21lIG9yIGV4cGVuc2VzIGxpc3RcbiAgICAgIFVJQ3RybC51cGRhdGVCdWRnZXQoKSAvLyBPdXRwdXQgdGhlIG5ldyBidWRnZXRcbiAgICAgIFVJQ3RybC51cGRhdGVQZXJjZW50YWdlcygpIC8vIE91dHB1dCB0aGUgbmV3IHBlcmNlbnRhZ2VzXG5cbiAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdmb3JtIHN1Ym1pdHRlZCEnKVxuICAgICAgICBjb25zb2xlLmxvZyhuZXdJdGVtKVxuICAgICAgfVxuICAgIH1cbiAgICBjb25zb2xlLmxvZyhpbmMpXG4gIH0pXG4gIC8vIERlbGV0ZSBhbiBhZGRlZCBpbmNvbWUgb3IgZXhwZW5zZVxuICBVSUN0cmwuZGVsZXRlSXRlbSgpXG5cbiAgcGFzdGJ1ZGdldC5nZXRCdWRnZXQoKGRhdGEsIGlkKSA9PiB7XG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgIGNvbnNvbGUubG9nKGRhdGEsIGlkKVxuICAgIH1cbiAgfSlcbn0pKGJ1ZGdldENvbnRyb2xsZXIpXG4iLCJtb2R1bGUuZXhwb3J0cyA9IGJyb3dzZXI7IiwiY29uc3QgYnVkZ2V0Q29udHJvbGxlciA9ICgoKSA9PiB7XG4gIGNsYXNzIEJ1ZGdldCB7XG4gICAgY29uc3RydWN0b3IoaWQsIGRlc2NyaXB0aW9uLCB2YWx1ZSkge1xuICAgICAgdGhpcy5pZCA9IGlkXG4gICAgICB0aGlzLmRlc2MgPSBkZXNjcmlwdGlvblxuICAgICAgdGhpcy52YWwgPSB2YWx1ZVxuICAgICAgdGhpcy5wZXJjZW50YWdlID0gLTFcbiAgICB9XG5cbiAgICBjYWxjUGVyY2VudGFnZSh0b3RhbEluY29tZSkge1xuICAgICAgaWYgKHRvdGFsSW5jb21lID4gMCkge1xuICAgICAgICB0aGlzLnBlcmNlbnRhZ2UgPSBNYXRoLnJvdW5kKCh0aGlzLnZhbCAvIHRvdGFsSW5jb21lKSAqIDEwMClcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMucGVyY2VudGFnZSA9IC0xXG4gICAgICB9XG4gICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICBjb25zb2xlLmxvZyhcbiAgICAgICAgICBgdGhpcyB2YWx1ZSBpcyAke3R5cGVvZiB0aGlzLnZhbH1gLFxuICAgICAgICAgIGB0aGUgdG90YWxJbmNvbWUgJHt0eXBlb2YgdG90YWxJbmNvbWV9YFxuICAgICAgICApXG4gICAgICB9XG4gICAgfVxuXG4gICAgZ2V0UGVyY2VudGFnZSgpIHtcbiAgICAgIHJldHVybiB0aGlzLnBlcmNlbnRhZ2VcbiAgICB9XG4gIH1cblxuICBjb25zdCBkYXRhID0ge1xuICAgIGFsbEl0ZW1zOiB7XG4gICAgICBleHA6IFtdLFxuICAgICAgaW5jOiBbXSxcbiAgICAgIHNhdjogW10sXG4gICAgfSxcbiAgICB0b3RhbHM6IHtcbiAgICAgIGV4cDogMCxcbiAgICAgIGluYzogMCxcbiAgICAgIHNhdjogMCxcbiAgICB9LFxuICAgIHBlcmNlbnQ6IHtcbiAgICAgIGV4cDogLTEsXG4gICAgICBzYXY6IC0xLFxuICAgIH0sXG4gICAgYnVkZ2V0OiAwLFxuICB9XG5cbiAgY29uc3QgY2FsY3VsYXRlVG90YWxzID0gKHR5cGUpID0+IHtcbiAgICBsZXQgc3VtID0gMFxuICAgIGRhdGEuYWxsSXRlbXNbdHlwZV0uZm9yRWFjaCgoY3VyKSA9PiB7XG4gICAgICBzdW0gKz0gY3VyLnZhbFxuICAgIH0pXG4gICAgZGF0YS50b3RhbHNbdHlwZV0gPSBzdW1cbiAgfVxuXG4gIHJldHVybiB7XG4gICAgYWRkSXRlbTogKHR5cGUsIGRlc2MsIHZhbCkgPT4ge1xuICAgICAgLy8gQ3JlYXRlIG5ldyBJRFxuICAgICAgY29uc3QgSUQgPVxuICAgICAgICBkYXRhLmFsbEl0ZW1zW3R5cGVdLmxlbmd0aCA+IDBcbiAgICAgICAgICA/IGRhdGEuYWxsSXRlbXNbdHlwZV1bZGF0YS5hbGxJdGVtc1t0eXBlXS5sZW5ndGggLSAxXS5pZCArIDFcbiAgICAgICAgICA6IDBcblxuICAgICAgLy8gU2V0IG5ldyBpdGVtIHRvIHVzZSBvYmplY3RcbiAgICAgIGNvbnN0IG5ld0l0ZW0gPSBuZXcgQnVkZ2V0KElELCBkZXNjLCB2YWwpXG5cbiAgICAgIC8vIFB1c2ggaXQgaW50byBkYXRhIHN0cnVjdHVyZVxuICAgICAgZGF0YS5hbGxJdGVtc1t0eXBlXS5wdXNoKG5ld0l0ZW0pXG5cbiAgICAgIC8vIGNyZWF0ZSBuZXcgaXRlbVxuICAgICAgcmV0dXJuIG5ld0l0ZW1cbiAgICB9LFxuICAgIGNhbGN1bGF0ZUJ1ZGdldDogKCkgPT4ge1xuICAgICAgLy8gMS4gQ2FsY3VsYXRlIHRoZSBidWRnZXRcbiAgICAgIGNhbGN1bGF0ZVRvdGFscygnZXhwJylcbiAgICAgIGNhbGN1bGF0ZVRvdGFscygnaW5jJylcbiAgICAgIGNhbGN1bGF0ZVRvdGFscygnc2F2JylcblxuICAgICAgLy8gMi4gQ2FsY3VsYXRlIHRoZSBidWRnZXQ6IGluY29tZSAtIGV4cGVuc2VzXG4gICAgICBkYXRhLmJ1ZGdldCA9IGRhdGEudG90YWxzLmluYyAtIChkYXRhLnRvdGFscy5leHAgKyBkYXRhLnRvdGFscy5zYXYpXG5cbiAgICAgIC8vIDMuIENhbGN1bGF0ZSB0aGUgcGVyY2VudGFnZSBvZiBpbmNvbWUgdGhhdCB3ZSBzcGVudFxuICAgICAgaWYgKGRhdGEudG90YWxzLmluYyA+IDApIHtcbiAgICAgICAgZGF0YS5wZXJjZW50LmV4cCA9IE1hdGgucm91bmQoKGRhdGEudG90YWxzLmV4cCAvIGRhdGEudG90YWxzLmluYykgKiAxMDApXG4gICAgICAgIGRhdGEucGVyY2VudC5zYXYgPSBNYXRoLnJvdW5kKChkYXRhLnRvdGFscy5zYXYgLyBkYXRhLnRvdGFscy5pbmMpICogMTAwKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZGF0YS5wZXJjZW50LmV4cCA9IC0xXG4gICAgICAgIGRhdGEucGVyY2VudC5zYXYgPSAtMVxuICAgICAgfVxuXG4gICAgICAvLyAzLiBSZXR1cm4gdGhlIGJ1ZGdldFxuICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgY29uc29sZS5sb2coZGF0YS50b3RhbHMuZXhwLCBkYXRhLnRvdGFscy5pbmMpXG4gICAgICAgIGNvbnNvbGUubG9nKGRhdGEuYnVkZ2V0LCBkYXRhLnBlcmNlbnQuZXhwLCBkYXRhLnBlcmNlbnQuc2F2KVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gZGF0YVxuICAgIH0sXG4gICAgY2FsY3VsYXRlUGVyY2VudGFnZXM6ICh0eXBlKSA9PiB7XG4gICAgICBkYXRhLmFsbEl0ZW1zW3R5cGVdLmZvckVhY2goKGN1cikgPT4ge1xuICAgICAgICBjdXIuY2FsY1BlcmNlbnRhZ2UoZGF0YS50b3RhbHMuaW5jKVxuICAgICAgfSlcbiAgICB9LFxuICAgIGdldFBlcmNlbnRhZ2VzOiAodHlwZSkgPT4ge1xuICAgICAgY29uc3QgYWxsUGVyYyA9IGRhdGEuYWxsSXRlbXNbdHlwZV0ubWFwKChjdXIpID0+IHtcbiAgICAgICAgcmV0dXJuIGN1ci5nZXRQZXJjZW50YWdlKClcbiAgICAgIH0pXG4gICAgICByZXR1cm4gYWxsUGVyY1xuICAgIH0sXG4gICAgcmVtb3ZlSXRlbTogKHR5cGUsIGlkKSA9PiB7XG4gICAgICBjb25zdCBpZHMgPSBkYXRhLmFsbEl0ZW1zW3R5cGVdLm1hcCgoY3VycmVudCkgPT4ge1xuICAgICAgICByZXR1cm4gY3VycmVudC5pZFxuICAgICAgfSlcbiAgICAgIGNvbnN0IGluZGV4ID0gaWRzLmluZGV4T2YoaWQpXG5cbiAgICAgIGlmIChpbmRleCAhPT0gLTEpIHtcbiAgICAgICAgZGF0YS5hbGxJdGVtc1t0eXBlXS5zcGxpY2UoaW5kZXgsIDEpXG4gICAgICB9XG4gICAgfSxcbiAgICBnZXREYXRhOiAoKSA9PiB7XG4gICAgICByZXR1cm4gZGF0YVxuICAgIH0sXG4gIH1cbn0pKClcblxuZXhwb3J0IGRlZmF1bHQgYnVkZ2V0Q29udHJvbGxlclxuIl0sInNvdXJjZVJvb3QiOiIifQ==